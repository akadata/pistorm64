Locating the Server Port and Connecting to It ]" border=0> The next step is to find the server's port number. In the case of this example, the port name is hardcoded into the server and client. A real networked application should have an entry for the "note" service in the inet:db/services file. The code below finds the port number in the client machine's inet:db/services file. struct servent *servptr; char servnam[] = "note"; if ((servptr = getservbyname( servnam, "tcp" )) == NULL) { printf("%s not in inet:db/services list!",servnam); FinalExit( RETURN_ERROR ); } serv.sin_port = servptr->s_port; /* ** This tells the system the socket in question is an Internet socket */ serv.sin_family = AF_INET; Since the client and server are running on top of an IP (Internet Protocol) system, the client needs to specify AF_INET in its call to socket() just as the server did. /* ** Initialize the socket */ if ( (sock = socket( AF_INET, SOCK_STREAM, 0 )) [Back to Amiga Developer Docs ]