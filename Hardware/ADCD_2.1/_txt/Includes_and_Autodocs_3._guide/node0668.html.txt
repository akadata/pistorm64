SOURCE: Includes_and_Autodocs_3._guide/node0668.html
TITLE: include/devices/serial.h

include/devices/serial.h ]" border=0> #ifndef DEVICES_SERIAL_H #define DEVICES_SERIAL_H /* ** $VER: serial.h 33.6 (6.11.1990) ** Includes Release 44.1 ** ** external declarations for the serial device ** ** (C) Copyright 1985-1999 Amiga, Inc. ** All Rights Reserved */ #ifndef EXEC_IO_H #include #endif /* EXEC_IO_H */ /* array of termination char's */ /* to use,see serial.doc setparams */ struct IOTArray { ULONG TermArray0; ULONG TermArray1; }; #define SER_DEFAULT_CTLCHAR 0x11130000 /* default chars for xON,xOFF */ /* You may change these via SETPARAMS. At this time, parity is not calculated for xON/xOFF characters. You must supply them with the desired parity. */ /******************************************************************/ /* CAUTION !! IF YOU ACCESS the serial.device, you MUST (!!!!) use an IOExtSer-sized structure or you may overlay innocent memory !! */ /******************************************************************/ struct IOExtSer { struct IOStdReq IOSer; /* STRUCT MsgNode * 0 APTR Succ * 4 APTR Pred * 8 UBYTE Type * 9 UBYTE Pri * A APTR Name * E APTR ReplyPort * 12 UWORD MNLength * STRUCT IOExt * 14 APTR io_Device * 18 APTR io_Unit * 1C UWORD io_Command * 1E UBYTE io_Flags * 1F BYTE io_Error * STRUCT IOStdExt * 20 ULONG io_Actual * 24 ULONG io_Length * 28 APTR io_Data * 2C ULONG io_Offset * * 30 */ ULONG io_CtlChar; /* control char's (order = xON,xOFF,INQ,ACK) */ ULONG io_RBufLen; /* length in bytes of serial port's read buffer */ ULONG io_ExtFlags; /* additional serial flags (see bitdefs below) */ ULONG io_Baud; /* baud rate requested (true baud) */ ULONG io_BrkTime; /* duration of break signal in MICROseconds */ struct IOTArray io_TermArray; /* termination character array */ UBYTE io_ReadLen; /* bits per read character (# of bits) */ UBYTE io_WriteLen; /* bits per write character (# of bits) */ UBYTE io_StopBits; /* stopbits for read (# of bits) */ UBYTE io_SerFlags; /* see SerFlags bit definitions below */ UWORD io_Status; }; /* status of serial port, as follows: * BIT ACTIVE FUNCTION * 0 --- reserved * 1 --- reserved * 2 high Connected to parallel "select" on the A1000. * Connected to both the parallel "select" and * serial "ring indicator" pins on the A500 * & A2000. Take care when making cables. * 3 low Data Set Ready * 4 low Clear To Send * 5 low Carrier Detect * 6 low Ready To Send * 7 low Data Terminal Ready * 8 high read overrun * 9 high break sent * 10 high break received * 11 high transmit x-OFFed * 12 high receive x-OFFed * 13-15 reserved */ #define SDCMD_QUERY CMD_NONSTD /* $09 */ #define SDCMD_BREAK (CMD_NONSTD+1) /* $0A */ #define SDCMD_SETPARAMS (CMD_NONSTD+2) /* $0B */ #define SERB_XDISABLED 7 /* io_SerFlags xOn-xOff feature disabled bit */ #define SERF_XDISABLED (1 [Back to Amiga Developer Docs ]
