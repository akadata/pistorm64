include/intuition/sghooks.h ]" border=0> #ifndef INTUITION_SGHOOKS_H #define INTUITION_SGHOOKS_H TRUE /* ** $VER: sghooks.h 38.1 (11.11.1991) ** Includes Release 44.1 ** ** string gadget extensions and hooks ** ** (C) Copyright 1988-1999 Amiga, Inc. ** All Rights Reserved */ #ifndef EXEC_TYPES_H #include #endif struct StringExtend { /* display specifications */ struct TextFont *Font; /* must be an open Font (not TextAttr) */ UBYTE Pens[2]; /* color of text/backgroun */ UBYTE ActivePens[2]; /* colors when gadget is active */ /* edit specifications */ ULONG InitialModes; /* initial mode flags, below */ struct Hook *EditHook; /* if non-NULL, must supply WorkBuffer */ UBYTE *WorkBuffer; /* must be as large as StringInfo.Buffer*/ ULONG Reserved[4]; /* set to 0 */ }; struct SGWork { /* set up when gadget is first activated */ struct Gadget *Gadget; /* the contestant itself */ struct StringInfo *StringInfo; /* easy access to sinfo */ UBYTE *WorkBuffer; /* intuition's planned result */ UBYTE *PrevBuffer; /* what was there before */ ULONG Modes; /* current mode */ /* modified for each input event */ struct InputEvent *IEvent; /* actual event: do not change */ UWORD Code; /* character code, if one byte */ WORD BufferPos; /* cursor position */ WORD NumChars; ULONG Actions; /* what Intuition will do */ LONG LongInt; /* temp storage for longint */ struct GadgetInfo *GadgetInfo; /* see cghooks.h */ UWORD EditOp; /* from constants below */ }; /* SGWork.EditOp - * These values indicate what basic type of operation the global * editing hook has performed on the string before your gadget's custom * editing hook gets called. You do not have to be concerned with the * value your custom hook leaves in the EditOp field, only if you * write a global editing hook. * * For most of these general edit operations, you'll want to compare * the BufferPos and NumChars of the StringInfo (before global editing) * and SGWork (after global editing). */ #define EO_NOOP (0x0001) /* did nothing */ #define EO_DELBACKWARD (0x0002) /* deleted some chars (maybe 0). */ #define EO_DELFORWARD (0x0003) /* deleted some characters under and in front of the cursor */ #define EO_MOVECURSOR (0x0004) /* moved the cursor */ #define EO_ENTER (0x0005) /* "enter" or "return" key, terminate */ #define EO_RESET (0x0006) /* current Intuition-style undo */ #define EO_REPLACECHAR (0x0007) /* replaced one character and (maybe) advanced cursor */ #define EO_INSERTCHAR (0x0008) /* inserted one char into string or added one at end */ #define EO_BADFORMAT (0x0009) /* didn't like the text data, e.g., Bad LONGINT */ #define EO_BIGCHANGE (0x000A) /* unused by Intuition */ /* complete or major change to the text, e.g. new string */ #define EO_UNDO (0x000B) /* unused by Intuition */ /* some other style of undo */ #define EO_CLEAR (0x000C) /* clear the string */ #define EO_SPECIAL (0x000D) /* unused by Intuition */ /* some operation that doesn't fit into the categories here */ /* Mode Flags definitions (ONLY first group allowed as InitialModes) */ #define SGM_REPLACE (1L [Back to Amiga Developer Docs ]