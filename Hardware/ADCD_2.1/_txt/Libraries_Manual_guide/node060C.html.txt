SOURCE: Libraries_Manual_guide/node060C.html
TITLE: lib_examples/clibtest.c

lib_examples/clibtest.c ]" border=0> ;/* clibtest.c--Calls the Sample.library functions (execute to compile with Lattice 5.10a) LC -b1 -cfistq -v -y -j73 clibtest.c Blink FROM LIB:c.o,clibtest.o TO clibtest LIBRARY LIB:LC.lib,LIB:Amiga.lib quit ; note - you must also link with sample.lib if not using sample_pragmas.h */ #include #include #include #include #include #include #include "sampleinclude/samplebase.h" #include "sampleinclude/sample_protos.h" #include "sampleinclude/sample_pragmas.h" #ifdef LATTICE int CXBRK(void) { return(0); } /* Disable Lattice CTRL/C handling */ void chkabort(void) { return; } /* really */ #endif struct Library *SampleBase = NULL; void main(int argc, char **argv) { LONG n; /* Open sample.library */ if(!(SampleBase=OpenLibrary("sample.library",0))) { printf("Can't open sample.library\n"); exit(RETURN_FAIL); } /* Print library name, ID string, version, revision */ printf("%s Version=%ld Revision=%ld IdString: %s\n", SampleBase->lib_Node.ln_Name, SampleBase->lib_Version, SampleBase->lib_Revision, SampleBase->lib_IdString); /* Call the two functions */ n = Double(-7); printf("Function Double(-7) returned %ld\n", n); n = AddThese(21,4); printf("Function AddThese(21,4) returned %ld\n", n); CloseLibrary(SampleBase); exit(RETURN_OK); } [Back to Amiga Developer Docs ]
