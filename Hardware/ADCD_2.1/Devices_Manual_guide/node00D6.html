<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Devices/Dev_6" NODE="6-5-1" TITLE="6 / Writing Events to Input Device Stream / Setting Position Of Mouse" INDEX="Devices/Dev_Index/MAIN" -->
<head>
<title>6 / Writing Events to Input Device Stream / Setting Position Of Mouse</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Devices_Manual_guide/node012A.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Devices_Manual_guide/node00D5.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Devices_Manual_guide/node00D7.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
One use of writing input events to the input device is to set the
position of the mouse pointer.  The mouse pointer can be positioned by
<a name="line4">using the input classes IECLASS_POINTERPOS and <a href="../Includes_and_Autodocs_2._guide/node0051.html">IECLASS_NEWPOINTERPOS</a> .</a>

There are two ways to set the position of the mouse pointer using the
pre-V36 Kickstart input class IECLASS_POINTERPOS:

   *  At an absolute position on the current screen.

   *  At a position relative to the current mouse pointer position on the
<a name="line12">      current screen.</a>

In both cases, you set the Class field of the <a href="../Devices_Manual_guide/node00CE.html#line102">InputEvent</a> structure to
IECLASS_POINTERPOS, ie_X with the new x-coordinate and ie_Y with the new
y-coordinate.   Absolute positioning is done by setting ie_Qualifier to
NULL and relative positioning is done by setting ie_Qualifier to
RELATIVE_MOUSE.

Once the proper values are set, pass an <a href="../Devices_Manual_guide/node00CC.html#line12">IOStdReq</a> to the input device with
a pointer to the <a href="../Devices_Manual_guide/node00CE.html#line102">InputEvent</a> structure set in io_Data and io_Command set to
<a name="line22"><a href="../Includes_and_Autodocs_2._guide/node04E8.html">IND_WRITEEVENT</a>.</a>

There are three ways to set the mouse pointer position using
IECLASS_NEWPOINTERPOS:

   *  At an absolute x-y coordinate on a screen-you specify the exact
      location of the pointer and which screen.

   *  At an relative x-y coordinate-you specify where it will go in
      relation to the current pointer position and which screen.

   *  At a normalized position on a tablet device-you specify the maximum
      x-value and y-value of the tablet and an x-y coordinate between them
<a name="line35">      and the input device will normalize it to fit.</a>

The basic steps required are the same for all three methods.

   *  Get a pointer to the screen where you want to position the pointer.
      This is not necessary for the tablet device.

   *  Set up a structure to indicate the new position of the pointer.

For absolute and relative positioning, you set up an <a href="../Devices_Manual_guide/node00CE.html#line133">IEPointerPixel</a>
structure with iepp_Position.X set to the new x-coordinate,
iepp_Position.Y set to the new y-coordinate and iepp_Screen set to the
screen pointer. You set up an <a href="../Devices_Manual_guide/node00CE.html#line102">InputEvent</a> structure with ie_SubClass set to
IESUBCLASS_PIXEL, a pointer to the IEPointerPixel structure set in
ie_EventAddress, IECLASS_NEWPOINTERPOS set in Class, and ie_Qualifier set
to either IEQUALIFIER_RELATIVEMOUSE for relative positioning or NULL for
absolute positioning.

For tablet positioning, you set up an <a href="../Devices_Manual_guide/node00CE.html#line144">IEPointerTablet</a> structure with
iept_Range.X set to the maximum x-coordinate and iept_Range.Y set to the
maximum y-coordinate, and iept_Value.X set to the new x-coordinate and
iept_Value.Y set to the new y-coordinate. You set up an <a href="../Devices_Manual_guide/node00CE.html#line102">InputEvent</a>
structure with a pointer to the IEPointerTablet structure set in
ie_EventAddress, ie_SubClass to IESUBCLASS_TABLET and Class set to
IECLASS_NEWPOINTERPOS.

Finally, for all three methods, pass an <a href="../Devices_Manual_guide/node00CC.html#line12">IOStdReq</a> to the device with a
pointer to the <a href="../Devices_Manual_guide/node00CE.html#line102">InputEvent</a> structure set in io_Data and io_Command set to
<a href="../Includes_and_Autodocs_2._guide/node04E8.html">IND_WRITEEVENT</a>.

The following example sets the mouse pointer at an absolute position on a
public screen using IECLASS_NEWPOINTERPOS.  Notice that it uses V36
functions wherever possible.

     <a href="../Devices_Manual_guide/node019B.html">Set_Mouse.c</a> 
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
