<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Devices/Dev_6" NODE="6-4" TITLE="6 Input Device / Adding an Input Handler" INDEX="Devices/Dev_Index/MAIN" -->
<head>
<title>6 Input Device / Adding an Input Handler</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Devices_Manual_guide/node012A.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Devices_Manual_guide/node00D1.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Devices_Manual_guide/node00D3.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
You add an input-stream handler to the input chain by passing an <a href="../Devices_Manual_guide/node00CC.html#line12">IOStdReq</a>
to the device with <a href="../Includes_and_Autodocs_2._guide/node04E1.html">IND_ADDHANDLER</a> set in io_Command and a pointer to an
Interrupt structure set in io_Data.

   struct Interrupt *InputHandler;
   struct IOStdReq  *InputIO

   InputHandler-&#062;is_Code=ButtonSwap;         /* Address of code */
   InputHandler-&#062;is_Data=NULL;               /* User Value passed in A1 */
   InputHandler-&#062;is_Node.ln_Pri=100;         /* Priority in food chain */
   InputHandler-&#062;is_Node.ln_Name=NameString; /* Name of handler */

   InputIO-&#062;io_Data=(APTR)inputHandler;      /* Point to the structure */
   InputIO-&#062;io_Command=IND_ADDHANDLER;       /* Set command ... */
<a name="line16">   DoIO((struct IORequest *)InputIO);        /* DoIO( ) the command */</a>

Intuition is one of the input device handlers and normally distributes
most of the input events.

Intuition inserts itself at priority position 50. The console device sits
at priority position 0. You can choose the position in the chain at which
your handler will be inserted by setting the priority field in the
list-node part of the interrupt data structure you pass to this routine.

   Speed Saves.
   ------------
   Any processing time expended by a handler subtracts from the time
   available before the next event happens. Therefore, handlers for the
   input stream must be fast. For this reason it is recommended that the
   handlers be written in assembly.

 <a href="../Devices_Manual_guide/node00D3.html">Rules For Input Device Handlers</a> 
 <a href="../Devices_Manual_guide/node00D4.html">Removing An Input Handler</a> 
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
