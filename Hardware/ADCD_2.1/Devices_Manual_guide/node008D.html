<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Devices/Dev_4" NODE="4-4-2-1" TITLE="4 / / Set Graphic Rendition Implementation Notes" INDEX="Devices/Dev_Index/MAIN" -->
<head>
<title>4 / / Set Graphic Rendition Implementation Notes</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Devices_Manual_guide/node012A.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Devices_Manual_guide/node008C.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Devices_Manual_guide/node008E.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
Previous versions of the operating system did not support the global
background color sequence as is listed above.  Instead, the background
color was set by setting the character cell color and then clearing the
screen (e.g., a FORMFEED).

In fact, vacated areas of windows (vacated because of an ERASE or SCROLL)
were filled in with the character cell color.  This is no longer the case.
Now, when an area is vacated, it is filled in with the global background
color.

SMART_REFRESH windows are a special case:

Under V33-V34:
   The cell color had to be set and a FORMFEED (clear window) needed to
   be sent on resize or immediately to clear the window and set the
   background color.

   For example, if you took a CLI window and sent the sequence to set the
   cell color to something other than the default,the background color
   would not be changed immediately (contrary to what was expected).

   If you then sent a FORMFEED,the background color would change,but if you
   resized the window larger, you would note that the newly revealed areas
   were filled in with PEN 0.

Under V36-V37 (non-character mapped):
   You need to set the global background color and do a FormFeed.  The
   background color will then be used to fill the window, but like
   V33-V34, if you make the window larger, the vacated areas will be
   filled in with PEN 0.

Under V36-V37 (character mapped):
   You need to set the global background color, the window is redrawn
   immediately (because we have the character map) and will be correctly
   redrawn with the global background color on subsequent resizes.

The sequences in the next table are not ANSI standard sequences, they are
private Amiga sequences. In these command descriptions, length, width, and
offset are comprised of one or more ASCII digits, defining a decimal value.

                     AMIGA CONSOLE CONTROL SEQUENCES

        Console Command             Sequence of Characters(in Hex Format)
    ----------------------          -------------------------------------
    ENABLE SCROLL(default)                     9B 3E 31 68

    DISABLE SCROLL                             9B 3E 31 6C

    AUTOWRAP ON (default)                      9B 3F 37 68

    AUTOWRAP OFF                               9B 3F 37 6C

    SET PAGE LENGTH                            9B &#060;length&#062; 74
    (in character raster lines, causes
     console to recalculate,using
     current font, how many text lines
     will fit on the page)

    SET LINE LENGTH                            9B &#060;width&#062; 75
    (in character positions, using
     current font, how many characters
     should be placed on each line)

    SET LEFT OFFSET                            9B &#060;offset&#062; 78
    (in raster columns, how far from
     the left of the window should
     the text begin)

    SET TOP OFFSET                             9B &#060;offset&#062; 79
    (in raster lines, how far
     from the top of the window's
     RastPort should the topmost
     line of the character begin)

    SET RAW EVENTS                             9B &#060;events&#062; 7B
    (set the raw input events that
     will trigger an INPUT EVENT
     REPORT. see the
     &#034;<a href="../Devices_Manual_guide/node0094.html">Selecting Raw Input Events</a>&#034;
     section below  for more details.)

    INPUT EVENT REPORT                         9B &#060;parameters&#062; 7C
    (returned by the console device
     in response to a raw event
     set by the SET RAW EVENT sequence.
     See the &#034;<a href="../Devices_Manual_guide/node0095.html">Input Event Reports</a>&#034;
     section below for more details.)

    RESET RAW EVENTS                           9B &#060;events&#062; 7D
    (reset the raw events set by
     the SET RAW EVENT sequence. See the
     &#034;<a href="../Devices_Manual_guide/node0094.html">Selecting Raw Input Events</a>&#034;
     section below.)

    SPECIAL KEY REPORT                         9B &#060;keyvalue&#062; 7E
    (returned by the console device
     whenever HELP, or one of the
     function keys or arrow keys is
     pressed.  Some sequences do not end
     with 7E)

    SET CURSOR RENDITION                       9B N 20 70
    (make the cursor visible or invisible:
     Note-turning off the cursor increases
     text output speed)

        Invisible:                             9B 30 20 70
        Visible:                               9B 20 70

    WINDOW STATUS REQUEST                      9B 30 20 71
    (ask the console device to tell you
     the current bounds of the window,
     in upper and lower row and column
     character positions.  User may have
     resized or repositioned it.See
     &#034;<a href="../Devices_Manual_guide/node0092.html">Window Bounds Report</a>&#034; below.)

    WINDOW BOUNDS REPORT                       9B 31 3B 31 3B &#060;bot margin&#062;
    (returned by the console device in         3B &#060;right margin&#062; 72
     response to a WINDOW STATUS REQUEST
     sequence)

    RIGHT AMIGA V PRESS                        9B 30 20 76
    (returned by the console device when
     the user presses RIGHT-AMIGA-V.  See
     the &#034;<a href="../Devices_Manual_guide/node0093.html">Copy and Paste Support</a>&#034; section
     below for more details.)

   Give Back What You Take.
   ------------------------
   The console device normally handles the SET PAGE LENGTH, SET LINE
   LENGTH, SET LEFT OFFSET, and SET TOP OFFSET functions automatically.
   To allow it to do so again after setting your own values, send the
   functions without a parameter.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
