<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Devices/Dev_3" NODE="3-2-7" TITLE="3 / Device Interface / Reading From The Clipboard Device" INDEX="Devices/Dev_Index/MAIN" -->
<head>
<title>3 / Device Interface / Reading From The Clipboard Device</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Devices_Manual_guide/node012A.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Devices_Manual_guide/node006D.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Devices_Manual_guide/node006F.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
You read from the clipboard device by passing an <a href="../Devices_Manual_guide/node0067.html#line5">IOClipReq</a> to the device
with CMD_READ set in io_Command, the number of bytes to be read set in
io_Length and the address of the read buffer set in io_Data.

    ClipIO-&#062;io_Command = CMD_READ;
    ClipIO-&#062;io_Data = (char *) read_data;
    ClipIO-&#062;io_Length = 20L;

io_Offset must be set to zero for the first read of a paste sequence.  An
io_Actual that is less than the io_Length indicates that all the data has
been read.  After all the data has been read, a subsequent read must be
performed (one whose io_Actual returns zero) to indicate to the clipboard
device that all the data has been read. This allows random access of the
clip while reading. Providing only valid reads are performed, your program
can seek/read anywhere within the clip by setting the io_Offset field of
the I/O request appropriately.

   Tell The Clipboard You Are Finished Reading.
   --------------------------------------------
   Your application must perform an extra read (one whose io_Actual
   returns zero) to indicate to the clipboard device that all data has
   been read, if io_Actual is not already zero.

The data you read from the clipboard will be in IFF format.  Conversion
from IFF may be necessary depending on your application.

   Iffparse That Data!
   -------------------
   Keep in mind that the functions in the iffparse.library can be used
   to read data from the clipboard. See the &#034;<a href="../Libraries_Manual_guide/node0427.html">IFFParse Library</a>&#034;
   chapter of the Amiga ROM Kernel Reference Manual: Libraries for more
   information.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
