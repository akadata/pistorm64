<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Devices/Dev_6" NODE="6-5" TITLE="6 Input Device / Writing Events to the Input Device Stream" INDEX="Devices/Dev_Index/MAIN" -->
<head>
<title>6 Input Device / Writing Events to the Input Device Stream</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Devices_Manual_guide/node012A.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Devices_Manual_guide/node00D4.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Devices_Manual_guide/node00D6.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
Typically, input events are internally generated by the timer device,
<a name="line3">keyboard device, and input device.</a>

An application can also generate an input event by setting the appropriate
fields for the event in an <a href="../Devices_Manual_guide/node00CE.html#line102">InputEvent</a> structure and sending it to the
input device. It will then be treated as any other event and passed
through to the input handler chain.  However, I/O requests for
<a href="../Includes_and_Autodocs_2._guide/node04E8.html">IND_WRITEEVENT</a> cannot be made from interrupt code.
<a name="line10"></a>
You generate an input event by passing an <a href="../Devices_Manual_guide/node00CC.html#line12">IOStdReq</a> to the device with
<a href="../Includes_and_Autodocs_2._guide/node04E8.html">IND_WRITEEVENT</a> set in io_Command, a pointer to an <a href="../Devices_Manual_guide/node00CE.html#line102">InputEvent</a> structure set
in io_Data and the length of the structure set in io_Length.

   struct InputEvent *FakeEvent;
   struct IOStdReq   *InputIO;

   InputIO-&#062;io_Data=(APTR)FakeEvent;
   InputIO-&#062;io_Length=sizeof(struct InputEvent);
   InputIO-&#062;io_Command=IND_WRITEEVENT;
   DoIO((struct IORequest *)InputIO);

   You Know What Happens When You Assume.
   --------------------------------------
   This command propagates the input event through the handler chain.
   The handlers may link other events onto the end of this event or
   modify the contents of the data structure you constructed in any way
   they wish. Therefore, do not assume any of the data will be the same
   from event to event.

 <a href="../Devices_Manual_guide/node00D6.html">Setting The Position Of The Mouse</a> 
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
