<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="icon" NODE="LayoutIconA()" TITLE="icon.library/LayoutIconA" -->
<head>
<title>icon.library/LayoutIconA</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node0351.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node0353.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
	LayoutIconA -- Adapt a palette-mapped icon for display (V44)

<b>   SYNOPSIS</b>
	success = LayoutIconA(icon,screen,tags);
	D0                    A0   A1     A2

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line73">BOOL</a> LayoutIconA(struct <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line64">DiskObject</a> *icon,struct <a href="../Includes_and_Autodocs_3._guide/node0602.html#line132">Screen</a> *screen,
	                 struct <a href="../Includes_and_Autodocs_3._guide/node064C.html#line31">TagItem</a> *tags);

	success = LayoutIcon(icon,screen,...);

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line73">BOOL</a> LayoutIcon(struct <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line64">DiskObject</a> *icon,struct <a href="../Includes_and_Autodocs_3._guide/node0602.html#line132">Screen</a> *screen,...);

<b>   FUNCTION</b>
	This function will prepare an icon for display, either on a
	specific screen or using a default colour palette. It is
	useful only for palette mapped icons.

<b>   INPUTS</b>
	icon -- The icon to be remapped. This must be a palette mapped
	    icon.
	screen -- Pointer to a screen to remap the icon for or NULL
	    to remap the icon to use the system default colour palette
	    or something very similar to it (this means: four colours
	    only).
	tags -- Additional rendering options.

<b>   TAGS</b>
	OBP_Precision (LONG) -- Pen colour allocation precision.
	    Default is the same precision as set in the global
	    icon.library settings (see <a href="../Includes_and_Autodocs_3._guide/node0351.html">IconControlA()</a>).

<b>   OUTPUTS</b>
	success -- TRUE if the icon could be remapped, FALSE if
	    the remapping failed for some reason. In case of
	    of failure, icon.library will try its best to keep
	    the icon in a presentable state, but this may fail.
	    In case of failure, the error code can be retrieved
	    using <a href="../Includes_and_Autodocs_3._guide/node0182.html">dos.library/IoErr</a>.

<b>   NOTES</b>
	You must make sure that the screen you remap to does not
	go away while there is an icon to use its colours. For
	a public screen, the easiest way to guarantee this is
	to keep it locked (see intuition.library/LockPubScreen).
	For custom screens, just don't close them! If you have to close
	the screen or need to keep your icon around until after a screen
	is closed, you should call LayoutIcon() with a NULL screen
	parameter. This will release all pens the icon has allocated
	and remap the icon to a default set of colours. Alternatively,
	you can dispose of the icon via <a href="../Includes_and_Autodocs_3._guide/node034A.html">FreeDiskObject()</a> which
	will also release all pens the icon has allocated, including
	the icon itself, of course.

	Icons remapped to the global default screen (normally, that
	would be the Workbench screen) may get changed and remapped
	again during Workbench close/open transitions. To prevent
	this from taking place, just make sure that the Workbench
	screen does not close (e.g. via LockPubScreen(&#034;Workbench&#034;)).

<b>   SEE ALSO</b>
	<a href="../Includes_and_Autodocs_3._guide/node0182.html">dos.library/IoErr</a>
	<a href="../Includes_and_Autodocs_3._guide/node0306.html">graphics.library/ObtainBestPenA</a>
	<a href="../Includes_and_Autodocs_3._guide/node0314.html">graphics.library/ReleasePen</a>
	<a href="../Includes_and_Autodocs_3._guide/node034A.html">icon.library/FreeDiskObject</a>
	<a href="../Includes_and_Autodocs_3._guide/node0350.html">icon.library/GetIconTagList</a>
	icon.library/IconControl
	<a href="../Includes_and_Autodocs_3._guide/node03C1.html">intuition.library/LockPubScreen</a>
	<a href="../Includes_and_Autodocs_3._guide/node03FE.html">intuition.library/UnlockPubScreen</a>
	<a href="../Includes_and_Autodocs_3._guide/node05ED.html">graphics/view.h</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
