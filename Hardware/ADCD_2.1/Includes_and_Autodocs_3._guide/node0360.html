<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="iffparse" NODE="EntryHandler()" TITLE="iffparse.library/EntryHandler" -->
<head>
<title>iffparse.library/EntryHandler</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node035F.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node0361.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
	EntryHandler -- add an entry handler to the <a href="../Includes_and_Autodocs_3._guide/node05E8.html#line43">IFFHandle</a> context. (V36)

<b>   SYNOPSIS</b>
	error = EntryHandler(iff, type, id, position, handler, object);
	D0                   A0   D0    D1  D2        A1       A2

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> EntryHandler(struct <a href="../Includes_and_Autodocs_3._guide/node05E8.html#line43">IFFHandle</a> *, <a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a>, <a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a>, <a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a>,
	                  struct <a href="../Includes_and_Autodocs_3._guide/node0617.html#line27">Hook</a> *, APTR);

<b>   FUNCTION</b>
	Installs an entry handler vector for a specific type of chunk into
	the context for the given <a href="../Includes_and_Autodocs_3._guide/node05E8.html#line43">IFFHandle</a> structure. Type and id are the
	longword identifiers for the chunk to handle. The handler is a client-
	supplied standard <a href="../Includes_and_Autodocs_3._guide/node0617.html#line27">Hook</a> structure, properly initialized. position
	tells where to put the handler in the context. The handler will be
	called whenever the parser enters a chunk of the given type, so the
	IFF stream will be positioned to read the first data byte in the
	chunk. The handler will execute in the same context as whoever
	called <a href="../Includes_and_Autodocs_3._guide/node0372.html">ParseIFF()</a>. The handler will be called (through the hook)
	with the following arguments:

		A0:	the <a href="../Includes_and_Autodocs_3._guide/node0617.html#line27">Hook</a> pointer you passed.
		A2:	the 'object' pointer you passed.
		A1:	pointer to a <a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> containing the value
			IFFCMD_ENTRY.

	The error code your call-back routine returns will affect the parser
	in three different ways:

	Return value		Result
	------------		------
	0:			Normal success;  <a href="../Includes_and_Autodocs_3._guide/node0372.html">ParseIFF()</a> will continue
				through the file.
	IFF_RETURN2CLIENT:	<a href="../Includes_and_Autodocs_3._guide/node0372.html">ParseIFF()</a> will stop and return the value 0.
				(StopChunk() is internally implemented using
				this return value.)
	Any other value:	<a href="../Includes_and_Autodocs_3._guide/node0372.html">ParseIFF()</a> will stop and return the value
				you supplied. This is how errors should be
				returned.

<b>   INPUTS</b>
	iff - pointer to <a href="../Includes_and_Autodocs_3._guide/node05E8.html#line43">IFFHandle</a> structure.
	type - type code for chunk to handle (ex. &#034;ILBM&#034;).
	id - ID code for chunk to handle (ex. &#034;CMAP&#034;).
	position- local context item position. One of the IFFSLI_#? codes.
	handler - pointer to <a href="../Includes_and_Autodocs_3._guide/node0617.html#line27">Hook</a> structure.
	object - a client-defined pointer which is passed in A2 during call-
		 back.

<b>   RESULT</b>
	error - 0 if successful or an IFFERR_#? error code if unsuccessful.

<b>   BUGS</b>
	Returning the values IFFERR_EOF or IFFERR_EOC from the call-back
	routine *may* confuse the parser.

	There is no way to explicitly remove a handler once installed.
	However, by installing a do-nothing handler using IFFSLI_TOP,
	previous handlers will be overridden until the context expires.

<b>   SEE ALSO</b>
	<a href="../Includes_and_Autodocs_3._guide/node0361.html">ExitHandler()</a>, <a href="../Includes_and_Autodocs_3._guide/node037E.html">StoreLocalItem()</a>, <a href="../Includes_and_Autodocs_3._guide/node037D.html">StoreItemInContext()</a>,
	<a href="../Includes_and_Autodocs_3._guide/node0617.html">&#060;utility/hooks.h&#062;</a>, <a href="../Includes_and_Autodocs_3._guide/node05E8.html">&#060;libraries/iffparse.h&#062;</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
