<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="icon" NODE="GetIconRectangleA()" TITLE="icon.library/GetIconRectangleA" -->
<head>
<title>icon.library/GetIconRectangleA</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node034E.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node0350.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
	GetIconRectangleA -- Query the size of the area an icon renders into (V44)

<b>   SYNOPSIS</b>
	success = GetIconRectangleA(rp,icon,label,rectangle,tags)
	D0                          A0 A1   A2    A3        A4

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line73">BOOL</a> GetIconRectangleA(struct <a href="../Includes_and_Autodocs_3._guide/node05D7.html#line53">RastPort</a> *rp,struct <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line64">DiskObject</a> *icon,
	                       <a href="../Includes_and_Autodocs_3._guide/node0654.html#line57">STRPTR</a> label,struct <a href="../Includes_and_Autodocs_3._guide/node05DC.html#line26">Rectangle</a> *rectangle,
	                       struct <a href="../Includes_and_Autodocs_3._guide/node064C.html#line31">TagItem</a> *tags);

	success = GetIconRectangle(rp,icon,label,rectangle,...);

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line73">BOOL</a> GetIconRectangle(struct <a href="../Includes_and_Autodocs_3._guide/node05D7.html#line53">RastPort</a> *rp,struct <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line64">DiskObject</a> *icon,
	                      <a href="../Includes_and_Autodocs_3._guide/node0654.html#line57">STRPTR</a> label,struct <a href="../Includes_and_Autodocs_3._guide/node05DC.html#line26">Rectangle</a> *rectangle,...);

<b>   FUNCTION</b>
	This function will calculate the size of the area icon rendering
	would affect.

<b>   INPUTS</b>
	rp -- Pointer to the <a href="../Includes_and_Autodocs_3._guide/node05D7.html#line53">RastPort</a> to use for calculating the
	    the size of the label with respect to the font and
	    style options currently in use; this parameter may be
	    NULL if the label is NULL, too.
	icon -- Pointer to a struct <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line64">DiskObject</a>.
	label -- Pointer to a NUL-terminated string, or NULL if
	    no label text is to enter the calculation.
	rectangle -- Pointer to a struct <a href="../Includes_and_Autodocs_3._guide/node05DC.html#line26">Rectangle</a> to fill in. The
	    contents will take the size of the icon image, the icon
	    border size and -- if you provide <a href="../Includes_and_Autodocs_3._guide/node05D7.html#line53">RastPort</a> and label
	    text -- the icon label into account. Due to how labels
	    are printed, the rectangle-&#062;MinX and rectangle-&#062;MinY
	    members may be negative.
	tags -- Additional drawing options to be taken into account.

<b>   TAGS</b>
	ICONDRAWA_DrawInfo (struct <a href="../Includes_and_Autodocs_3._guide/node0602.html#line65">DrawInfo</a> *) -- Drawing information data
	    associated with the <a href="../Includes_and_Autodocs_3._guide/node05D7.html#line53">RastPort</a> parameter passed in.

	    This tag defaults to NULL.

	ICONDRAWA_Borderless (BOOL) -- When calculating the size of
	    the rectangle, this tag allows you to leave the icon
	    border size out of the equation.

	    This tag defaults to FALSE.

<b>   RESULTS</b>
	success -- TRUE if the parameters were well-formed and
	    the output data fits into the <a href="../Includes_and_Autodocs_3._guide/node05DC.html#line26">Rectangle</a> data
	    structure (which may not be the case if the image
	    is too large for a signed 16 bit integer to hold).

<b>   EXAMPLE</b>
	/* Find out how large an icon is. */
	struct <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line64">DiskObject</a> *icon;
	struct <a href="../Includes_and_Autodocs_3._guide/node05DC.html#line26">Rectangle</a> rect;

	if(GetIconRectangleA(NULL,NULL,icon,NULL,&#038;rect,NULL))
	{
	    <a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> width,height;

	    width = rect.MaxX - rect.MinX + 1;
	    height = rect.MaxY - rect.MinY + 1;

	    Printf(&#034;icon is %ld&#215;%ld pixels in size.n&#034;,
	        width,height);
	}

	/* Find out which area the icon rendering would
	 * cover if a label would be printed below it.
	 */
	struct <a href="../Includes_and_Autodocs_3._guide/node05D7.html#line53">RastPort</a> *rp;

	if(GetIconRectangle(rp,NULL,icon,&#034;a rather long label text&#034;,&#038;rect,TAG_DONE))
	{
	    Printf(&#034;icon plus label would cover the area %ld,%ld&#215;%ld,%ldn&#034;,
	        rect.MinX,rect.MinY,rect.MaxX,rect.MaxY);
	}

<b>   NOTES</b>
	This function can be used to optimize on-screen rendering by
	precalculating the area rendering would cover. To make sure that
	the precalculated area size matches the one covered by the actual
	drawing operation, the RastPorts you use for measuring and for
	drawing should share the same font and the same text styles.

	The image size calculated by this function can be
	slightly larger than the data you will find in the icon's
	do_Gadget.GadgetRender <a href="../Includes_and_Autodocs_3._guide/node05E0.html#line704">Image</a> structure since the icon border
	will be taken into account. This happens regardless of whether
	icon.library was switched into frameless icon rendering mode
	or whether the icon is frameless. To obtain the size of the
	icon without taking the border into account, use the
	ICONDRAWA_Borderless tag.

<b>   SEE ALSO</b>
	<a href="../Includes_and_Autodocs_3._guide/node0618.html">workbench/icon.h</a>
	<a href="../Includes_and_Autodocs_3._guide/node05D6.html">workbench/workbench.h</a>
	icon.library/DrawIconState
	<a href="../Includes_and_Autodocs_3._guide/node0351.html">icon.library/IconControlA</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
