<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="cardres" NODE="CardProgramVoltage()" TITLE="card.resource/CardProgramVoltage" -->
<head>
<title>card.resource/CardProgramVoltage</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node0094.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node0096.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
	CardProgramVoltage -- Set programming voltage.

<b>   SYNOPSIS</b>
	success=CardProgramVoltage( handle, voltage );
					a1      d0

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> CardProgramVoltage( struct <a href="../Includes_and_Autodocs_3._guide/node05E2.html#line29">CardHandle</a> *, ULONG );

<b>   FUNCTION</b>
	Used to set programming voltages (e.g., for FLASH-ROM/EPROM
	cards).

<b>   INPUTS</b>
	handle - Same handle as that used when <a href="../Includes_and_Autodocs_3._guide/node009D.html">OwnCard()</a> was called.

	voltage - See card.i/h for valid values.

<b>   RETURNS</b>
	1  - Successful.

	0  - Not successful.  Most likely because the credit-card
	card has been removed, and you are no longer the owner.

	-1 - This function is not being supported.  On some machines
	with a minimal (hardware) credit-card interface, this feature
	may not be possible.

<b>   NOTES</b>
	This function may be called from within a task, or from a level 1
	or level 2 interrupt.

       !!!WARNING!!!

	Flash-ROM programming requires careful coding to prevent
	leaving the Erase command on too long.  Failure to observe
	the maximum time between the Erase command, and the Erase-Verify
	command can make a Flash-ROM card unusable.  Some Flash-ROM cards
	may provide an internal watch-dog timer which protects the card.

	Because of the relatively long time (e.g., 10ms) between Erase, and
	Erase-Verify which must be observed, the need for such critical
	timing can be problematic on a multi-tasking machine.

	Vendors of Flash-ROM's recommend a high priority interrupt
	generated by a 10ms timer be used to turn off Erase.  On the
	Amiga this can be accomplished by using a CIA-B interval timer.
	The timer.device also provides a mechanism for generating a low
	priority interrupt.  The timer.device is easier to use than <a href="../Includes_and_Autodocs_3._guide/node05E5.html#line28">CIA</a>
	interval timers, though not as accurate or as safe.

	Even if the Flash-ROM card provides an internal watch-dog timer,
	implementation of the code during Erase should assume that
	the Flash-ROM does not.

<b>   SEE ALSO</b>
	<a href="../Includes_and_Autodocs_3._guide/node009D.html">OwnCard()</a>, <a href="../Includes_and_Autodocs_3._guide/node05E2.html">resources/card.h</a>, resources/card.i
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
