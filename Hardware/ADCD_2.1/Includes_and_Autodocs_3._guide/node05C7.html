<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="wb" NODE="WorkbenchControlA()" TITLE="workbench.library/WorkbenchControlA" -->
<head>
<title>workbench.library/WorkbenchControlA</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node05C6.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node05C8.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
	WorkbenchControlA -- Query or modify Workbench and icon
	    options. (V44)

<b>   SYNOPSIS</b>
	success = WorkbenchControlA(name,tags)
	   D0                       A0   A1

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line73">BOOL</a> WorkbenchControlA(STRPTR name,struct <a href="../Includes_and_Autodocs_3._guide/node064C.html#line31">TagItem</a> *tags);

	success = WorkbenchControl(name,...);

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line73">BOOL</a> WorkbenchControl(STRPTR name,...);

<b>   FUNCTION</b>
	With this function you can query or modify global Workbench
	parameters or local icon options.

<b>   INPUTS</b>
	name -- Name of an object to query or modify.

	tags -- Additional options.

<b>   TAGS</b>
	WBCTRLA_IsOpen (LONG *) -- Check if the named object is
	    currently open. In this case, the function &#034;name&#034;
	    parameter refers to the drawer that should be
	    tested; the result value will be set to TRUE if
	    the named drawer is currently open, FALSE otherwise.

	WBCTRLA_DuplicateSearchPath (BPTR *) -- This is a safe way
	    to obtain a copy of the Workbench search path list.
	    You will receive a <a href="../Includes_and_Autodocs_3._guide/node05F8.html#line129">BPTR</a> to a path list, such as can
	    be stored in the cli_CommandDir pointer of a
	    <a href="../Includes_and_Autodocs_3._guide/node05D9.html#line313">CommandLineInterface</a> structure. Note that this is really
	    a copy of the Workbench search path list and not a reference
	    to the data associated with the Workbench process. Thus,
	    it can be freed by FreeDosObject(DOS_CLI,..), if part of
	    a <a href="../Includes_and_Autodocs_3._guide/node05D9.html#line313">CommandLineInterface</a> structure.

	WBCTRLA_FreeSearchPath (BPTR) -- If you did not attach the
	    data returned by the WBCTRLA_DuplicateSearchPath
	    to a CLI, to be freed automatically later, you can
	    pass it back to WorkbenchControlA() to be released.

	WBCTRLA_GetDefaultStackSize (ULONG *) -- Get the default stack
	    size used by Workbench when launching Shell programs
	    or programs without a valid stack size number.

	    The default stack size is 4096 bytes.

	WBCTRLA_SetDefaultStackSize (ULONG) -- Set the default stack
	    size used by Workbench when launching Shell programs
	    or programs without a valid stack size number. You cannot
	    set a stack size number smaller than 4096 bytes

	WBCTRLA_RedrawAppIcon (struct <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line162">AppIcon</a> *) -- This tag will cause
	    Workbench to redraw an <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line162">AppIcon</a>. Note that due to which state
	    the Workbench is currently in, it may refuse to redraw the
	    icon.

	WBCTRLA_GetProgramList (struct <a href="../Includes_and_Autodocs_3._guide/node0628.html#line19">List</a> **) -- You can obtain a list
	    of currently running Workbench programs; every entry of this
	    list will have the complete path to the program and the
	    program name in its Node-&#062;ln_Name. When you no longer need
	    the list, don't forget to free it again using the tag
	    WBCTRLA_FreeProgramList.

	    Note that the list you will receive may be empty. Be
	    prepared to handle this.

	WBCTRLA_FreeProgramList (struct <a href="../Includes_and_Autodocs_3._guide/node0628.html#line19">List</a> *) -- With this tag you can
	    free the list allocated by the WBCTRLA_GetProgramList tag.

	WBCTRLA_GetSelectedIconList (struct <a href="../Includes_and_Autodocs_3._guide/node0628.html#line19">List</a> **) -- You can obtain a
	    list of currently selected icons; every entry of this
	    list will have the complete path to the icon and the
	    icon name in its Node-&#062;ln_Name. Some icons do not enter the
	    list, such as AppIcons. When you no longer need the list,
	    don't forget to free it again using the tag
	    WBCTRLA_FreeSelectedIconList.

	    Note that the list you will receive may be empty. Be
	    prepared to handle this.

	WBCTRLA_FreeSelectedIconList (struct <a href="../Includes_and_Autodocs_3._guide/node0628.html#line19">List</a> *) -- With this tag
	    you can free the list allocated by the
	    WBCTRLA_GetSelectedIconList tag.

	WBCTRLA_GetOpenDrawerList (struct <a href="../Includes_and_Autodocs_3._guide/node0628.html#line19">List</a> **) -- You can obtain a
	    list of currently open drawers and volumes; every entry of this
	    list will have the complete drawer path name in its Node-&#062;ln_Name.
	    When you no longer need the list, don't forget to free it
	    again using the tag WBCTRLA_FreeOpenDrawerList.

	    Note that the list you will receive may be empty. Be
	    prepared to handle this.

	WBCTRLA_FreeOpenDrawerList (struct <a href="../Includes_and_Autodocs_3._guide/node0628.html#line19">List</a> *) -- With this tag
	    you can free the list allocated by the
	    WBCTRLA_GetOpenDrawerList tag.

	WBCTRLA_AddHiddenDeviceName (STRPTR) -- Name of a device which
	    Workbench should not display a disk or device icon for.
	    Any such device will be effectively hidden from the Workbench
	    backdrop. The name must include a terminating colon character,
	    such as in &#034;DF0:&#034;.

	    Note that adding new entries to this list may not immediately
	    take effect.

	WBCTRLA_RemoveHiddenDeviceName (STRPTR) -- Name of a device on
	    the list of devices to be hidden which should be removed.
	    The name must include a terminating colon character,
	    such as in &#034;DF0:&#034;. Trying to remove an entry from the list
	    that is not on it will have no effect.

	    Note that removing entries from this list may not immediately
	    take effect.

	WBCTRLA_GetHiddenDeviceList (struct <a href="../Includes_and_Autodocs_3._guide/node0628.html#line19">List</a> **) -- This will obtain
	    the list of devices whose contents which Workbench will not
	    display.

	    Note that the list you will receive may be empty. Be
	    prepared to handle this.

	WBCTRLA_FreeHiddenDeviceList (struct <a href="../Includes_and_Autodocs_3._guide/node0628.html#line19">List</a> *) -- With this tag
	    you can free the list allocated by the
	    WBCTRLA_GetHiddenDeviceList tag.

	WBCTRLA_GetTypeRestartTime (ULONG *) -- Get the number of seconds
	    that have to pass before typing the next character in a drawer
	    window will restart with a new file name.

	WBCTRLA_SetTypeRestartTime (ULONG) -- Set the number of seconds
	    that have to pass before typing the next character in a drawer
	    window will restart with a new file name. You must specify a
	    number greater than 0. Default type restart time is 3 seconds.

<b>   RESULTS</b>
	result -- FALSE if the requested action could not be performed,
	    TRUE otherwise. If FALSE is returned, you can query the error
	    code using <a href="../Includes_and_Autodocs_3._guide/node0182.html">dos.library/IoErr()</a>.

<b>   NOTES</b>
	If this function returns FALSE, the expected result is undefined.
	For example, if you tried to obtain the list of currently running
	programs via the WBCTRLA_GetProgramList tag and WorkbenchControl()
	failed with an error code, do not expect the <a href="../Includes_and_Autodocs_3._guide/node0628.html#line19">List</a> pointer you
	passed in to be initialized.

	This function may only be called by a <a href="../Includes_and_Autodocs_3._guide/node05D9.html#line36">Process</a>.

	This function may not process all tags if the Workbench is not
	currently open. For V44, the following tags are support if
	Workbench is closed:

	    WBCTRLA_SetDefaultStackSize
	    WBCTRLA_GetDefaultStackSize
	    WBCTRLA_FreeHiddenDeviceList
	    WBCTRLA_GetHiddenDeviceList
	    WBCTRLA_AddHiddenDeviceName
	    WBCTRLA_RemoveHiddenDeviceName
	    WBCTRLA_SetTypeRestartTime
	    WBCTRLA_GetTypeRestartTime

<b>   EXAMPLE</b>
	/* Obtain a copy of the Workbench search path list, then
	 * release it again.
	 */
	<a href="../Includes_and_Autodocs_3._guide/node05F8.html#line129">BPTR</a> pathList;

	if(WorkbenchControl(NULL,
	    WBCTRLA_DuplicateSearchPath,&#038;pathList,
	TAG_DONE))
	{
	    WorkbenchControl(NULL,
	        WBCTRLA_FreeSearchPath,pathList,
	    TAG_DONE);
	}

	/* Check if the drawer &#034;SYS:&#034; is open. */
	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> isOpen;

	if(WorkbenchControl(&#034;SYS:&#034;,
	    WBCTRLA_IsOpen,&#038;isOpen,
	TAG_DONE))
	{
	    Printf(&#034;Drawer &#034;SYS:&#034; is %s.n&#034;,
	        isOpen ? &#034;open&#034; : &#034;closed&#034;);
	}

	/* Print the list of all currently running
	 * Workbench programs, then free the list again.
	 */
	struct <a href="../Includes_and_Autodocs_3._guide/node0628.html#line19">List</a> * list;

	if(WorkbenchControl(NULL,
	    WBCTRLA_GetProgramList,&#038;list,
	TAG_DONE))
	{
	    struct <a href="../Includes_and_Autodocs_3._guide/node062F.html#line21">Node</a> * node;

	    for(node = list-&#062;lh_Head ;
	        node-&#062;ln_Succ != NULL ;
	        node = node-&#062;ln_Succ)
	    {
	        Printf(&#034;%sn&#034;,node-&#062;ln_Name);
	    }

	    WorkbenchControl(NULL,
	        WBCTRLA_FreeProgramList,list,
	    TAG_DONE);
	}

<b>   SEE ALSO</b>
	<a href="../Includes_and_Autodocs_3._guide/node0172.html">dos.library/FreeDosObject</a>
	<a href="../Includes_and_Autodocs_3._guide/node0182.html">dos.library/IoErr</a>
	<a href="../Includes_and_Autodocs_3._guide/node05D9.html">&#060;dos/dosextens.h&#062;</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
