<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="queue-handler" NODE="queue_handler()" TITLE="queue-handler/queue_handler" -->
<head>
<title>queue-handler/queue_handler</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node0518.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node051A.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
       queue_handler -- an 'infinite' pipe (FIFO) handler. (V37)

<b>   SYNOPSIS</b>
       Open(&#034;PIPE:[channel_name][[/[buf_size]][/max_buffers]]]&#034;);

<b>   FUNCTION</b>
       Queue-handler takes data from the output channel, buffers it up,
       allocating more memory as needed, and sends it to the input channel,
       as requested by the applications. Queue-handler never locks the output
       channel unless max_buffers was specified. Buffer size can be
       specified only on the first reference to a particular channel.

       Queue-handler works by invoking a seperate process every time an
       open packet is received, and uses a FIFO buffer pool approach to
       track the actual data.

<b>   INPUTS</b>
       channel_name - unique channel name to specify. Must begin with a
                      non-numeric character. The channel_name is
                      optional.

       buf_size - Size in bytes of the buffers to allocate
                  (default is 4096). The buf_size is optional.

       max_buffers - maximum number of buffers allowed. Will suspend
                     the output channel if exceeded. A max_buffers value of 0
                     indicates there should be no fixed limit on the number
                     of buffers allocated.

<b>    PACKETS</b>
	ACTION_FINDINPUT
	ACTION_FINDOUTPUT
	ACTION_FINDUPDATE
	ACTION_READ
	ACTION_WRITE
	ACTION_END
	ACTION_IS_FILESYSTEM

<b>   MOUNTLIST ENTRIES</b>
	This is the default mountlist entry used for Queue-Handler:

           PIPE:   Handler   = L:Queue-Handler
                   Priority  = 5
                   StackSize = 3000
                   GlobVec   = -1
           #

	Below is an extended mountlist entry which lets you specify a default
	number of buffers, and their size. There are some extra fields added
	at the end of the mountlist entry which aren't used for anything, but
	the Mount command requires that these fields be present. In this
	mountlist, the &#034;Buffers&#034; field indicates the default maximum number
	of buffers, and &#034;SectorSize&#034; indicates the size of these buffers.

           PIPE:    FileSystem = L:Queue-Handler
                    Priority   = 5
                    StackSize  = 3000
                    GlobVec    = -1
                    SectorSize = 1024
                    Buffers    = 2

                    /* these are unused, but required by Mount */
	            Surfaces        = 1
	            SectorsPerTrack = 1
	            LowCyl          = 0
	            HighCyl         = 1
	            <a href="../Includes_and_Autodocs_3._guide/node05FB.html#line23">Device</a>          = &#034;&#034;
	            <a href="../Includes_and_Autodocs_3._guide/node05FB.html#line30">Unit</a>            = 0
	#

<b>   EXAMPLE</b>
       From process 1:
           list &#062;pipe: work: all

       From process 2:
           type pipe:

       To gather the results of several C compilations:
           lc &#062;pipe:ll foo
           lc &#062;pipe:ll bar
           lc &#062;pipe:ll road
           lc &#062;pipe:ll kill
           type pipe:ll

       To use channel names:
           list &#062;pipe:crazy
           copy #?.c to &#062;pipe:all_c/32000  ;Specifies a channel 'all_c' and
                                           ;a buffer size of 32000
                                           ;bytes

       To set a limit on the number of buffers to 5:
           dir &#062;pipe://5       ; create a channel without a channel-name, and
                               ; only allow 5 buffer entries.

<b>   BUGS</b>
       Full checking is not done to ensure that the application can't read
       from a write channel or vice-versa. The results of this operation
       shall be undefined. Don't do it.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
