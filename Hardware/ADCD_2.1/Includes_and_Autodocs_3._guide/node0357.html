<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="icon" NODE="PutIconTagList()" TITLE="icon.library/PutIconTagList" -->
<head>
<title>icon.library/PutIconTagList</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node0356.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node0358.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
	PutIconTagList -- Store an icon (V44)

<b>   SYNOPSIS</b>
	success = PutIconTagList(name,icon,tags);
	D0                       A0   A1   A2

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line73">BOOL</a> PutIconTagList(STRPTR name,struct <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line64">DiskObject</a> *icon,
	                    struct <a href="../Includes_and_Autodocs_3._guide/node064C.html#line31">TagItem</a> *tags);

	success = PutIconTags(name,icon,tag1,...);

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line73">BOOL</a> PutIconTags(STRPTR name,struct <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line64">DiskObject</a> *icon,
                        <a href="../Includes_and_Autodocs_3._guide/node064C.html#line29">Tag</a> tag1,...);

<b>   FUNCTION</b>
	This function is used to store an icon; the icon can
	belong to a file/drawer/volume or it can be a default icon.

<b>   INPUTS</b>
	name -- Name of the object the icon is to be stored for,
	    or NULL if a default icon is to be stored.
	icon -- The icon to be stored.
	tags -- Storage options.

<b>   TAGS</b>
	ICONPUTA_NotifyWorkbench (BOOL) -- Set this to TRUE to notify
	    Workbench of the fact that an icon was changed.

	    This tag defaults to FALSE.

	ICONPUTA_PutDefaultType (LONG) -- Type of the default icon
	    this icon is to replace; must be one of WBDISK, WBDRAWER,
	    WBTOOL, WBPROJECT, WBGARBAGE, WBDEVICE or WBKICK.

	    If this tag is used, the &#034;name&#034; parameter will be ignored.

	ICONPUTA_PutDefaultName (STRPTR) -- Name of the default object
	    type this icon is to be stored as.

	    If this tag is used, the &#034;name&#034; parameter will be ignored.

	ICONPUTA_DropPlanarIconImage (BOOL) -- If you decide that the
	    palette mapped icon imagery is sufficient to represent
	    an icon, you can tell icon.library not to store the original,
	    planar icon image data with the icon file. To do this,
	    set this tag to TRUE. Instead of the planar icon images,
	    a single default image will be stored. This can result
	    in space savings but may not look too pretty.

	    This tag defaults to FALSE.

	ICONPUTA_DropChunkyIconImage (BOOL) -- This tag can be used to
	    keep the chunky icon image data from getting written
	    to disk.

	    This tag defaults to FALSE.

	ICONPUTA_DropNewIconToolTypes (BOOL) -- This tag controls whether
	    any NewIcon tool types will be omitted when writing the
	    icon to disk. TRUE will omit the data.

	    This tag defaults to FALSE.

	ICONPUTA_OptimizeImageSpace (BOOL) -- A palette mapped icon
	    image might not use the entire icon palette. By default,
	    icon.library does not bother about this, it expects the
	    creator of the icon to choose its palette efficiently.
	    But just in case, you can tell icon.library to attempt
	    to identify how many colours are really in use and to
	    optimize its image compressor for them. This may take
	    extra time and is not recommended for daily use.

	    This tag defaults to FALSE.

	ICONPUTA_OnlyUpdatePosition (BOOL) -- This tag can be used to
	    reduce the overhead in updating icon information on disk
	    if the only information changed is the icon position.
	    For this case, you can set this tag to TRUE. The icon
	    to be modified will have only its do_CurrentX/do_CurrentY
	    member values changed, the remainer will stay unmodified.
	    Please note that this tag only takes effect if the
	    ICONPUTA_PutDefaultType and ICONPUTA_PutDefaultName tags
	    are omitted.

	    This tag defaults to FALSE.

	ICONPUTA_PreserveOldIconImages (BOOL) -- Before writing a
	    palette mapped icon back to disk, icon.library will make
	    sure that the original planar image data is stored in the
	    file. If you don't want that to happen, set this option to
	    FALSE. This tag will allow you to change the planar icon
	    image data written back to disk.

	    This tag defaults to TRUE.

	ICONA_ErrorCode (LONG *) -- Pointer to a <a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> word variable to
	    store error codes in. Note that this variable will be
	    initialized regardless of whether an error occured or not.
	    Thus, you can check for an error condition by comparing the
	    variable contents against 0; 0 indicates success, all other
	    values are error codes as defined by dos.library.

<b>   RESULT</b>
	success -- TRUE if the icon file could be stored, FALSE otherwise.
	    You can use <a href="../Includes_and_Autodocs_3._guide/node0182.html">IoErr()</a> to retrieve the error code or use the
	    ICONA_ErrorCode tag instead.

<b>   EXAMPLE</b>
	/* Store an icon as the default &#034;picture&#034; icon. */
	struct <a href="../Includes_and_Autodocs_3._guide/node05D6.html#line64">DiskObject</a> *icon;
	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> errorCode;
	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line73">BOOL</a> success;

	success = PutIconTags(NULL,icon,
	    ICONPUTA_PutDefaultName,&#034;picture&#034;,
	    ICONA_ErrorCode,&#038;errorCode,
	TAG_DONE);

	if(success == FALSE)
	{
	    Printf(&#034;could not store default picture icon;n&#034;);
	    PrintFault(errorCode,NULL);
	}

<b>   NOTES</b>
	This function is a superset of <a href="../Includes_and_Autodocs_3._guide/node0355.html">PutDefDiskObject()</a> and <a href="../Includes_and_Autodocs_3._guide/node0356.html">PutDiskObject()</a>.

	If the name of the icon file to be stored would be too long to fit
	(as set with IconControl(..., ICONCTRLA_SetGlobalMaxNameLength, ...))
	then PutIconTagList() will silently pretend that the icon file has
	been written to disk. However, it will not store the icon file on the
	disk since there would a risk of accidentally overwriting the file the
	icon belongs to. If you want to know whether the icon you wrote was
	in fact written to disk, provide an error code pointer with the
	ICONA_ErrorCode tag. If the name of the file was too long,
	PutIconTagList() will still pretend that the icon file was written
	successfully, but the error code ERROR_TOO_MANY_LEVELS will be stored
	in the variable you passed in with the ICONA_ErrorCode tag.

<b>   SEE ALSO</b>
	<a href="../Includes_and_Autodocs_3._guide/node0618.html">workbench/icon.h</a>
	<a href="../Includes_and_Autodocs_3._guide/node05D6.html">workbench/workbench.h</a>
	<a href="../Includes_and_Autodocs_3._guide/node0350.html">icon.library/GetIconTagList</a>
	<a href="../Includes_and_Autodocs_3._guide/node0355.html">icon.library/PutDefDiskObject</a>
	<a href="../Includes_and_Autodocs_3._guide/node0356.html">icon.library/PutDiskObject</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
