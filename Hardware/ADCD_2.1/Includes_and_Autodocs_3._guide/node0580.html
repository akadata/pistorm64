<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="trackdisk" NODE="CMD_UPDATE" TITLE="trackdisk.device/CMD_UPDATE" -->
<head>
<title>trackdisk.device/CMD_UPDATE</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node057F.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node0581.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
	CMD_UPDATE/ETD_UPDATE -- write out the track buffer if it is dirty.

<b>   FUNCTION</b>
	The trackdisk device does not write data sectors unless it is
	necessary (you request that a different track be used) or until the
	user requests that an update be performed. This improves system speed
	by caching disk operations. These commands ensure that any
	buffered data is flushed out to the disk. If the track buffer has not
	been changed since the track was read in, these commands do nothing.
	ETD_UPDATE command checks for diskchange.

<b>   IO REQUEST INPUT</b>
	io_Device	preset by the call to <a href="../Includes_and_Autodocs_3._guide/node0560.html">OpenDevice()</a>
	io_Unit		preset by the call to <a href="../Includes_and_Autodocs_3._guide/node0560.html">OpenDevice()</a>
	io_Command	CMD_UPDATE or ETD_UPDATE
	io_Flags	0 or IOF_QUICK
	iotd_Count	(ETD_UPDATE only) maximum allowable change counter
			value.

<b>   IO REQUEST RESULT</b>
	io_Error - 0 for success, or an error code as defined in
	           <a href="../Includes_and_Autodocs_3._guide/node0604.html">&#060;devices/trackdisk.h&#062;</a>

<b>   SEE ALSO</b>
	<a href="../Includes_and_Autodocs_3._guide/node0581.html">CMD_WRITE</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
