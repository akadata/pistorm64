<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="cd" NODE="CD_ADDFRAMEINT" TITLE="cd.device/CD_ADDFRAMEINT" -->
<head>
<title>cd.device/CD_ADDFRAMEINT</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node00A1.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node00A3.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
       CD_ADDFRAMEINT -- add a CD-frame software interrupt handler.

<b>   IO REQUEST</b>
       io_Device       preset by the call to <a href="../Includes_and_Autodocs_3._guide/node00BB.html">OpenDevice()</a>
       io_Unit         preset by the call to <a href="../Includes_and_Autodocs_3._guide/node00BB.html">OpenDevice()</a>
       io_Command      CD_ADDFRAMEINT
       io_Length       sizeof(struct Interrupt)
       io_Data         pointer to <a href="../Includes_and_Autodocs_3._guide/node061D.html#line21">Interrupt</a> structure

<b>   RESULTS</b>
       io_Error        0 for success, or an error code as defined in
                       <a href="../Includes_and_Autodocs_3._guide/node05E4.html">&#060;devices/cd.h&#062;</a>

<b>   FUNCTION</b>
       This command lets you add a software interrupt handler to the
       disk device that gets invoked whenever a new frame is encountered
       while CD audio is being played.

       You must pass in a properly initialized Exec <a href="../Includes_and_Autodocs_3._guide/node061D.html#line21">Interrupt</a> structure
       and be prepared to deal with frame interrupts immediately.
       The interrupt is generated by the exec <a href="../Includes_and_Autodocs_3._guide/node01F4.html">Cause</a> function, so you must
       preserve A6.

       To set up the handler, an <a href="../Includes_and_Autodocs_3._guide/node061D.html#line21">Interrupt</a> structure must be initialized.
       This structure is supplied in io_Data of the CD_ADDFRAMEINT
       command.  The handler then gets linked into the handler chain and
       gets invoked whenever a frame event occurs.  You must eventually
       remove the handler before you exit.

       This command only returns when the handler is removed. That is,
       the device holds onto the IO request until the <a href="../Includes_and_Autodocs_3._guide/node00B5.html">CD_REMFRAMEINT</a> command
       is executed with that same IO request.  Hence, you must use <a href="../Includes_and_Autodocs_3._guide/node0236.html">SendIO()</a>
       with this command.

<b>   NOTES</b>
       The interrupt handler can be added before or after a play command is
       sent.  Interrupts will only be generated while CD audio is playing.
       Interrupts will not be generated when audio is paused.

<b>   SEE ALSO</b>
       <a href="../Includes_and_Autodocs_3._guide/node00B5.html">CD_REMFRAMEINT</a>, <a href="../Includes_and_Autodocs_3._guide/node05E4.html">&#060;devices/cd.h&#062;</a>, <a href="../Includes_and_Autodocs_3._guide/node061D.html">&#060;exec/interrupts.h&#062;</a>,
       <a href="../Includes_and_Autodocs_3._guide/node01F4.html">exec.library/Cause()</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
