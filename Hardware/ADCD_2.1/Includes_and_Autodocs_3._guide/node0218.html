<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="exec" NODE="InitStruct()" TITLE="exec.library/InitStruct" -->
<head>
<title>exec.library/InitStruct</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node0217.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node0219.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
	InitStruct - initialize memory from a table

<b>   SYNOPSIS</b>
	InitStruct(initTable, memory, size);
		   A1	      A2      D0

	void InitStruct(struct InitStruct *, <a href="../Includes_and_Autodocs_3._guide/node0654.html#line37">APTR</a>, ULONG);

<b>   FUNCTION</b>
	Clear a memory area, then set up default values according to
	the data and offset values in the initTable.  Typically only assembly
	programs take advantage of this function, and only with the macros
	defined in &#034;exec/initializers.i&#034;.

	The initialization table has byte commands to

	     |a    ||byte|	|given||byte|	      |once	    |
	load |count||word| into |next ||rptr| offset, |repetitively |
		    |long|

	Not all combinations are supported.  The offset, when specified, is
	relative to the memory pointer provided (Memory), and is initially
	zero.  The initialization data (InitTable) contains byte commands
	whose 8 bits are interpreted as follows:

	ddssnnnn
	    dd	the destination type (and size):
		00  no offset, use next destination, nnnn is count
		01  no offset, use next destination, nnnn is repeat
		10  destination offset is in the next byte, nnnn is count
		11  destination offset is in the next 24-bits, nnnn is count
	    ss	the size and location of the source:
		00  long, from the next two aligned words
		01  word, from the next aligned word
		10  byte, from the next byte
		11  ERROR - will cause an ALERT (see below)
	  nnnn	the count or repeat:
	     count  the (number+1) of source items to copy
	    repeat  the source is copied (number+1) times.

	initTable commands are always read from the next even byte. Given
	destination offsets are always relative to the memory pointer (A2).

	The command %00000000 ends the InitTable stream: use %00010001 if you
	really want to copy one longword without a new offset.

	24 bit <a href="../Includes_and_Autodocs_3._guide/node0654.html#line37">APTR</a> not supported for 68020 compatibility -- use long.

<b>   INPUTS</b>
	initTable - the beginning of the commands and data to init
		Memory with.  Must be on an even boundary unless only
		byte initialization is done.  End table with &#034;dc.b 0&#034;
		or &#034;dc.w 0&#034;.
	memory - the beginning of the memory to initialize.  Must be
		on an even boundary if size is specified.
	size - the size of memory, which is used to clear it before
		initializing it via the initTable.  If Size is zero,
		memory is not cleared before initializing.

		size must be an even number.

<b>    SEE ALSO</b>
	exec/initializers.i
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
