<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="iffparse" NODE="ParseIFF()" TITLE="iffparse.library/ParseIFF" -->
<head>
<title>iffparse.library/ParseIFF</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node0371.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node0373.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
	ParseIFF -- parse an IFF file from an <a href="../Includes_and_Autodocs_3._guide/node05E8.html#line43">IFFHandle</a> structure stream. (V36)

<b>   SYNOPSIS</b>
	error = ParseIFF(iff, control);
	D0               A0   D0

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> ParseIFF(struct <a href="../Includes_and_Autodocs_3._guide/node05E8.html#line43">IFFHandle</a> *, LONG);

<b>   FUNCTION</b>
	This is the biggie.

	Traverses a file opened for read by pushing chunks onto the context
	stack and popping them off directed by the generic syntax of IFF
	files. As it pushes each new chunk, it searches the context stack
	for handlers to apply to chunks of that type. If it finds an entry
	handler it will invoke it just after entering the chunk. If it finds
	an exit handler it will invoke it just before leaving the chunk.
	Standard handlers include entry handlers for pre-declared
	property chunks and collection chunks and entry and exit handlers for
	for stop chunks - that is, chunks which will cause the ParseIFF()
	function to return control to the client. Client programs can also
	provide their own custom handlers.

	The control flag can have three values:

	IFFPARSE_SCAN:
		In this normal mode, ParseIFF() will only return control to
		the caller when either:
			1) an error is encountered,
			2) a stop chunk is encountered, or a user handler
			   returns the special IFF_RETURN2CLIENT code, or
			3) the end of the logical file is reached, in which
			   case IFFERR_EOF is returned.

		ParseIFF() will continue pushing and popping chunks until one
		of these conditions occurs. If ParseIFF() is called again
		after returning, it will continue to parse the file where it
		left off.

	IFFPARSE_STEP and _RAWSTEP:
		In these two modes, ParseIFF() will return control to the
		caller after every step in the parse, specifically, after
		each push of a context node and just before each pop. If
		returning just before a pop, ParseIFF() will return
		IFFERR_EOC, which is not an error, per se, but is just an
		indication that the most recent context is ending. In STEP
		mode, ParseIFF() will invoke the handlers for chunks, if
		any, before returning. In RAWSTEP mode, ParseIFF() will not
		invoke any handlers and will return right away. In both
		cases the function can be called multiple times to step
		through the parsing of the IFF file.

<b>   INPUTS</b>
	iff - pointer to <a href="../Includes_and_Autodocs_3._guide/node05E8.html#line43">IFFHandle</a> structure.
	control	- control code (IFFPARSE_SCAN, _STEP or _RAWSTEP).

<b>   RESULT</b>
	error - 0 or IFFERR_#? value or return value from user handler.

<b>   SEE ALSO</b>
	<a href="../Includes_and_Autodocs_3._guide/node0376.html">PushChunk()</a>, <a href="../Includes_and_Autodocs_3._guide/node0373.html">PopChunk()</a>, <a href="../Includes_and_Autodocs_3._guide/node0360.html">EntryHandler()</a>, <a href="../Includes_and_Autodocs_3._guide/node0361.html">ExitHandler()</a>,
	<a href="../Includes_and_Autodocs_3._guide/node0374.html">PropChunk()</a>, <a href="../Includes_and_Autodocs_3._guide/node035D.html">CollectionChunk()</a>, <a href="../Includes_and_Autodocs_3._guide/node037A.html">StopChunk()</a>, <a href="../Includes_and_Autodocs_3._guide/node037C.html">StopOnExit()</a>,
	<a href="../Includes_and_Autodocs_3._guide/node05E8.html">&#060;libraries/iffparse.h&#062;</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
