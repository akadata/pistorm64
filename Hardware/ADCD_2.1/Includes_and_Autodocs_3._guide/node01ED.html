<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/39.2 FILE="exec" NODE="AttemptSemaphoreShared()" TITLE="exec.library/AttemptSemaphoreShared" -->
<head>
<title>exec.library/AttemptSemaphoreShared</title>
</head>
<body text="#000000" bgcolor="#AAAAAA">
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_3._guide/node01EC.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_3._guide/node01EE.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

<b>   NAME</b>
	AttemptSemaphoreShared -- try to obtain without blocking       (V37)

<b>   SYNOPSIS</b>
	success = AttemptSemaphoreShared(signalSemaphore)
	D0			         A0

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> AttemptSemaphoreShared(struct <a href="../Includes_and_Autodocs_3._guide/node0647.html#line39">SignalSemaphore</a> *);

<b>   FUNCTION</b>
	This call is similar to <a href="../Includes_and_Autodocs_3._guide/node021F.html">ObtainSemaphoreShared()</a>, except that it
	will not block if the semaphore could not be locked.

<b>   INPUT</b>
       signalSemaphore -- an initialized signal semaphore structure

<b>   RESULT</b>
	success -- TRUE if the semaphore was granted, false if some
	    other task already possessed the semaphore in exclusive mode.

<b>   NOTE</b>
	This call does NOT preserve registers.

	Starting in V39 this call will grant the semaphore if the
	caller is already the owner of an exclusive lock on the semaphore.
	In pre-V39 systems this would not be the case.  If you need this
	feature you can do the following workaround:

	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> myAttemptSempahoreShared(struct <a href="../Includes_and_Autodocs_3._guide/node0647.html#line39">SignalSemaphore</a> *ss)
	{
	<a href="../Includes_and_Autodocs_3._guide/node0654.html#line39">LONG</a> result;

		/* Try for a shared semaphore */
		if (!(result=AttemptSemaphoreShared(ss)))
		{
			/* Now try for the exclusive one... */
			result=AttempSemaphore(ss);
		}
		return(result);
	}

<b>   SEE ALSO</b>
	<a href="../Includes_and_Autodocs_3._guide/node021D.html">ObtainSemaphore()</a> <a href="../Includes_and_Autodocs_3._guide/node021F.html">ObtainSemaphoreShared()</a>, <a href="../Includes_and_Autodocs_3._guide/node0228.html">ReleaseSemaphore()</a>,
	<a href="../Includes_and_Autodocs_3._guide/node0647.html">exec/semaphores.h</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
