icon.library/GetDiskObjectNew ]" border=0> NAME GetDiskObjectNew - read in a Workbench disk object from disk. (V36) SYNOPSIS diskobj = GetDiskObjectNew(name) D0 A0 struct DiskObject *GetDiskObjectNew(STRPTR); FUNCTION This routine reads in a Workbench disk object in from disk. The name parameter will have ".info" postpended to it, and the icon file of that name will be read. If the call fails, it will return zero. The reason for the failure may be obtained via IoErr() . Using this routine protects you from any future changes to the way icons are stored within the system. A FreeList structure is allocated just after the DiskObject structure; FreeDiskObject makes use of this to get rid of the memory that was allocated. This call is functionally identical to GetDiskObject() with one exception. If its call to GetDiskObject() fails, this function calls GetDefDiskObject() . This is useful when there is no .info file for the icon you are trying to get a disk object for. Applications that use workbench application windows MUST use this call if they want to handle the user dropping an icon (that doesn't have a ".info" file) on their window. The V2.0 icon editor program is an example of a Workbench application window that uses this call. INPUTS name -- name of the object (STRPTR) or NULL if you just want a DiskObject structure allocated for you (useful when calling AddAppIcon() in workbench.library). RESULTS diskobj -- the Workbench disk object in question SEE ALSO dos.library/IoErr icon.library/FreeDiskObject icon.library/GetDiskObject icon.library/PutDiskObject icon.library/DeleteDiskObject icon.library/GetIconTagList icon.library/PutIconTagList workbench.library/AddAppIconA [Back to Amiga Developer Docs ]