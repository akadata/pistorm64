<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="VIII-51/sana2device.doc" NODE="VIII-51-6" TITLE="sana2.device/CMD_READ" -->
<head>
<title>sana2.device/CMD_READ</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../AmigaMail_Vol2_guide/node01E5.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../AmigaMail_Vol2_guide/node01E7.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
NAME
    Read -- Get a packet from the network.

FUNCTION
    Get the next packet available of the requested packet type. The data
    copied (via a call to the requestor-provided CopyToBuffer function)
    into ios2_Data is normally the Data Link Layer packet data only. If
    bit SANA2IOB_RAW is set in ios2_Flags, then the entire physical frame
    will be returned.

    Unlike most Exec devices, SANA-II device drivers do not have internal
    buffers.  If you wish to read data from a SANA-II device you should
    have multiple CMD_READ requests pending at any given time.  The
    functions provided by you the requestor will be used for any incoming
    packets of the type you've requested.  If no read requests are
    outstanding for a type which comes in and no read_orphan requests are
    outstanding, the packet will be lost.

IO REQUEST
    ios2_Command    - CMD_READ
    ios2_Flags      - Supported flags are:
                        SANA2IOB_RAW
                        SANA2IOB_QUICK
    ios2_PacketType - Packet type desired.
    ios2_Data       - Abstract data structure to hold packet data.

RESULTS
    ios2_Error      - Zero if successful; non-zero otherwise.
    ios2_WireError  - More specific error number.
    ios2_Flags      - The following flags may be returned:
                        SANA2IOB_RAW
                        SANA2IOB_BCAST
                        SANA2IOB_MCAST
    ios2_SrcAddr    - Source interface address of packet.
    ios2_DstAddr    - Destination interface address of packet.
    ios2_DataLength - Length of packet data.
    ios2_Data       - Abstract data structure which packet data is
                      contained in.

NOTES
    The driver may not directly examine or modify anything pointed to by
    ios2_Data.  It *must* use the requester-provided functions to access
    this data.

SEE ALSO
    S2_READORPHAN, CMD_WRITE, any_protocol/CopyToBuffer

BUGS
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
