<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="I-47/EnfMung.txt" NODE="I-47-3" TITLE="Sample Mungwall Output" -->
<head>
<title>Sample Mungwall Output</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../AmigaMail_Vol2_guide/node0055.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../AmigaMail_Vol2_guide/node0057.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
When Mungwall reports a hit, it lists:

The function that triggered the hit (either AllocMem() or FreeMem()).
It includes the functions arguments.

The name of the offending program (``attempted by `&#060;program name&#062;' '').

The address of the offending program's Task structure (``at 0x&#060;task
address&#062;'').

The address from which AllocMem()/FreeMem() was called.  Mungwall
reports two addresses: one labelled ``A:'' and one labelled ``C:''.
The ``A:'' address is the address if AllocMem()/FreeMem() was called
directly (i.e., using assembler or #pragmas) by the offending program.
The ``C:'' address is the address if AllocMem()/FreeMem() was called
from an amiga.lib C stub by the offending program.  Since Mungwall
patches the memory allocation functions, it can only guess the caller's
address based on the return address it finds on the stack.

The stack pointer at the time of the Mungwall hit.  It is labelled
``SP:''.

Note that Mungwall ignores the layers.library's partial deallocations.
If any other debugging tools patch AllocMem() or FreeMem(), Mungwall's
``A:'' and ``C:'' addresses may be thrown off by additional information
pushed on the stack, and Mungwall will also be unable to screen out the
layers.library's partial deallocations (which will often show up as
Mungwall hits on your task, CON:, or input.device).

Here are some sample Mungwall hits that were produced by a program
called mungwalltest.  As a reminder, the arguments for memory functions
are AllocMem(size,type) and FreeMem(address,size).

AllocMem(0x0,10000) attempted by `mungwalltest' (at 0x339590)
  from A:0x35C03A C:0x35677E SP:0x35CFC0         Tried to allocate 0 bytes
                                                 of memory.

FreeMem(0x0,16) attempted by `mungwalltest' (at 0x339590)
  from A:0x35C068 C:0x3567C4 SP:0x35CFB8         Tried to free memory with
                                                 a NULL pointer.

FreeMem(0x33BD10,0) attempted by `mungwalltest' (at 0x339590)
  from A:0x35C068 C:0x3567D4 SP:0x35CFB0         Tried to free 0 bytes of
                                                 memory.

Mis-aligned FreeMem(0x33BD14,16) attempted by `mungwalltest' (at 0x339590)
      from A:0x35C068 C:0x3567E2 SP:0x35CFA8     Deallocation address is
                                                 incorrect because it is
                                                 not aligned according to
                                                 AllocMem()'s lowest
                                                 memory chunk size.

Mismatched FreeMem size 14!
Original allocation: 16 bytes from A:0x35C03A C:0x3567A0 Task 0x339590
Testing with original size.                      Deallocation size does
                                                 not match the allocation
                                                 size.

19 byte(s) before allocation at 0x33BD10, size 16 were hit!
&#062;$: BBBBBBBB BBBBBBBB BB536572 6765616E 74277320 50657070 65722000
                                                 Something wrote to the
                                                 bytes which precede the
                                                 allocation.

8 byte(s) after allocation at 0x33BD10, size 16 were hit!
&#062;$: 75622042 616E6400 BBBBBBBB BBBBBBBB BBBBBBBB BBBBBBBB BBBBBBBBB
                                                 Something wrote to the
                                                 bytes which follow the
                                                 allocation.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
