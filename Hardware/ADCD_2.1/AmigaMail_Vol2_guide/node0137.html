<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="XI-1/amcx.txt" NODE="XI-1-9" TITLE="Uniqueness" -->
<head>
<title>Uniqueness</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../AmigaMail_Vol2_guide/node0136.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../AmigaMail_Vol2_guide/node0138.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
When a commodity opens its broker, it can ask Commodities Exchange not
to launch another broker with the same name (nb_Name).  This
uniqueness feature's purpose is to prevent the user from starting
duplicate commodities.  If a commodity asks, Commodities Exchange will
not only refuse to create a new, similarly named broker, but it will
also notify the original commodity if someone tries to do so.

A commodity tells Commodities Exchange not to allow duplicates by
setting certain bits in the nb_Unique field of the NewBroker structure
it sends to CxBroker():

    NBU_UNIQUE      bit 0
    NBU_NOTIFY      bit 1

Setting the NBU_UNIQUE bit prevents duplicate commodities.  Setting
the NBU_NOTIFY bit tells Commodities Exchange to notify a commodity if
an attempt was made to launch a duplicate.  Such a commodity will
receive a CXM_COMMAND CxMessage with an ID of CXCM D_UNIQUE when
someone tries to duplicate it.  Because the uniqueness feature uses
the name a programmer gives a commodity to differentiate it from other
commodities, it is possible for completely different commodities to
share the same name, preventing th e two from coexisting.  For this
reason, a commodity should not use a name that is likely to be in use
by other commodities (like &#034;filter&#034; or &#034;hotkey&#034;).

When HotKey gets a CXCMD_UNIQUE CxMessage, it shuts itself down.
HotKey and all the windowless commodities that come with the 2.0
Workbench shut themselves down when they get a CXCMD_UNIQUE CxMessage.
Because the user will expect all windowless commodit ies to work this
way, all windowless commodities should follow this standard.

When the user tries to launch a duplicate of a system commodity that
has a window, the system commodity moves its window to the front of
the display, as if the user had clicked the &#034;Show&#034; gadget in the
controller program's window.  A windowed commodity should mimic
conventions set by existing windowed system commodities, and move its
window to the front of the display.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
