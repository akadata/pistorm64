<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="IV-59/AppWorkbench.txt" NODE="IV-59-4" TITLE="AppIcons" -->
<head>
<title>AppIcons</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../AmigaMail_Vol2_guide/node00B5.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../AmigaMail_Vol2_guide/node00B7.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
The workbench.library function AddAppIcon() adds an AppIcon to the
Workbench window.  There are three parameters unique to this AddApp
function.  The mytext parameter (from the prototype above) is the string
that will appear beneath the AppIcon on the Workbench window.  The diskobj
parameter points to a DiskObject structure that Workbench will use for the
AppIcon's imagery.  It should be filled in as follows (from the wb.doc
Autodoc):

   diskobj - pointer to a DiskObject structure filled in as follows:
       do_Magic - NULL
       do_Version - NULL
       do_Gadget - a gadget structure filled in as follows:
           NextGadget - NULL
           LeftEdge - NULL
           TopEdge - NULL
           Width - width of icon hit-box
           Height - height of icon hit-box
           Flags - NULL or GADGHIMAGE
           Activation - NULL
           GadgetType - NULL
           GadgetRender - pointer to Image structure filled in as follows:
               LeftEdge - NULL
               TopEdge - NULL
               Width - width of image (must be &#060;= Width of hit box)
               Height - height of image (must be &#060;= Height of hit box)
               Depth - # of bit-planes in image
               ImageData - pointer to actual word aligned bits (CHIP MEM)
               PlanePick - Plane mask ((1 &#060;&#060; depth) - 1)
               PlaneOnOff - 0
               NextImage - NULL
           SelectRender - pointer to alternate Image struct or NULL
           GadgetText - NULL
           MutualExclude - NULL
           SpecialInfo - NULL
           GadgetID - NULL
           UserData - NULL
       do_Type - NULL
       do_DefaultTool - NULL
       do_ToolTypes - NULL
       do_CurrentX - NO_ICON_POSITION (recommended)
       do_CurrentY - NO_ICON_POSITION (recommended)
       do_DrawerData - NULL
       do_ToolWindow - NULL
       do_StackSize - NULL

An easy way to create a DiskObject is to make an icon with the V2.0 icon
editor, IconEdit.  An application can call GetDiskObject() on the icon and
pass that to AddAppIcon().

AddAppIcon()'s mylock parameter is for future enhancements and should be
set to NULL.

Because AppIcons are Workbench icons, the user can drop them on an
AppWindow or another AppIcon (or select them with an AppMenuItem).  As
there is no file, directory, or disk associated with an AppIcon (at least
for the moment), the lock passed for the icon in NULL.  Do not try to
process icons with a NULL lock.

The C source code example <a href="../AmigaMail_Vol2_guide/node01B3.html">AppIcon.c</a> at the end of this article is a simple
example of how to create an AppIcon.

   <a href="../AmigaMail_Vol2_guide/node01B4.html">AppIcon.h</a> 
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
