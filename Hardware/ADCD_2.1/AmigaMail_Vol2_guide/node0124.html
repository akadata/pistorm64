<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="VIII-51/standard.txt" NODE="VIII-51-11" TITLE="Broadcast and Multicast" -->
<head>
<title>Broadcast and Multicast</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../AmigaMail_Vol2_guide/node0123.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../AmigaMail_Vol2_guide/node0125.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

  S2_ADDMULTICASTADDRESS        S2_MULTICAST
  S2_DELMULTICASTADDRESS        S2_BROADCAST

Some hardware supports broadcast and/or multicast. A broadcast is a packet
sent to all other machines. A multicast is a packet sent to a set of
machines. Drivers for hardware which does not allow broadcast or multicast
will return ios2_Error S2ERR_NOT_SUPPORTED as appropriate.

To send a broadcast, use S2_BROADCAST instead of CMD_WRITE. Broadcasts are
received just like any other packets (using a CMD_READ for the appropriate
packet type).

To send a multicast, use S2_MULTICAST instead of CMD_WRITE. The device
keeps a list of addresses that want to receive multicasts. You add a
receiver's address to this list by using S2_ADDMULTICASTADDRESS. The
receiver then posts a CMD_READ for the type of packet to be received. Some
SANA-II devices which support multicast may have a limit on the number of
addresses that can simultaneously wait for packets. Always check for an
S2WERR_MULTICAST_FULL error return when adding a multicast address.

Note that when the device adds a multicast address, it is usually added
for all users of the device, not just the driver user which called
S2_ADDMULTICASTADDRESS. In other words, received multicast packets will
fill a read request of the appropriate type regardless of whether the
requesting driver user is the same one which added the multicast address.

In general, driver users should not care how received packets were sent
(normally or broadcast/multicast), only that it was received. If a driver
user really must know, however, it can check for SANA2IOB_BCAST and/or
SANA2IOB_MCAST in the ios2_Flags field.

Drivers should keep a count for the number of opens on a multicast address
so that they don't actually remove it until it has been
S2_DELMULTICASTADDRESS'd as many times as it has been
S2_ADDMULTICASTADDRESS'd.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
