<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_17" NODE="17-4-1" TITLE="17 / / Waiting on Message Ports and Signals at the Same Time" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>17 / / Waiting on Message Ports and Signals at the Same Time</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node028C.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node028E.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
Most applications need to wait for a variety of messages and signals from
a variety of sources.  For example, an application might be waiting for
Window events and also timer.device messages.  In this case, an
application must <a href="../Libraries_Manual_guide/node02D4.html">Wait()</a> on the combined signal bits of all signals it is
interested in, including the signals for the message ports where any
messages might arrive.

The <a href="../Libraries_Manual_guide/node02EB.html#line12">MsgPort</a> structure, which is defined in &#060;exec/<a href="../Includes_and_Autodocs_2._guide/node0099.html#line27">ports.h</a>&#062;, is what Exec
uses to keep track of a message port.  The <a href="../Libraries_Manual_guide/node0121.html#line29">UserPort</a> field from the <a href="../Libraries_Manual_guide/node028C.html#line53">example</a>
above points to one of these structures.  In this structure is a field
called <a href="../Libraries_Manual_guide/node02EB.html#line32">mp_SigBit</a>, which contains the number (not the actual bit mask) of
the message port's signal bit.  To <a href="../Libraries_Manual_guide/node02D4.html">Wait()</a> on the signal of a message port,
Wait() on a bit mask created by shifting 1L to the left mp_SigBit times
(1L &#060;&#060; msgport-&#062;mp_SigBit).  The resulting bit mask can be OR'd with the
bit masks for any other signals you wish to simultaneously wait on.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
