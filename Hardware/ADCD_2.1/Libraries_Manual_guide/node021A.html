<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_12" NODE="12-3-1-1" TITLE="12 / / The Boopsi Gadget Methods / GM_RENDER" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>12 / / The Boopsi Gadget Methods / GM_RENDER</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node0219.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node021B.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
Every time Intuition feels it is necessary to redraw a Boopsi gadget, it
sends a gadget a GM_RENDER message.  The GM_RENDER message (defined in
<a name="line4">&#060;intuition/<a href="../Includes_and_Autodocs_2._guide/node00D3.html#line186">gadgetclass.h</a>&#062;) tells a gadget to render itself:</a>

    struct gpRender
    {
        ULONG             MethodID;   /* GM_RENDER */
        struct GadgetInfo *gpr_GInfo;
        struct RastPort   *gpr_RPort; /* all ready for use */
        LONG              gpr_Redraw; /* might be a &#034;highlight pass&#034; */
    };

Some events that cause Intuition to send a GM_RENDER are: an application
passed the gadget to <a href="../Libraries_Manual_guide/node0103.html">OpenWindow()</a>, the user moved or resized a gadget's
window, or an application explicitly asked Intuition to refresh some
gadgets.

The GM_RENDER message contains a pointer to the gadget's <a href="../Libraries_Manual_guide/node034A.html">RastPort</a> so the
GM_RENDER method does not have to extract it from the gpr_GInfo <a href="../Libraries_Manual_guide/node0219.html#line23">GadgetInfo</a>
structure using <a href="../Includes_and_Autodocs_2._guide/node0232.html">ObtainGIRPort()</a>).  The gadget renders itself according to
how much imagery it needs to replace.  The gpr_Redraw field contains one
<a name="line23">of three values:</a>

GREDRAW_REDRAW  Redraw the entire gadget.

GREDRAW_UPDATE  The user has manipulated the gadget, causing a change
                to its imagery. Update only that part of the gadget's
                imagery that is effected by the user manipulating the
                gadget (for example, the knob and scrolling field of
                the prop gadget).

GREDRAW_TOGGLE  If this gadget supports it, toggle to or from the
                highlighting imagery.

Intuition is not the only entity that calls this method.  The gadget's
other methods may call this method to render the gadget when it goes
through state changes.  For example, as a prop gadget is following the
mouse from the gadget's <a href="../Libraries_Manual_guide/node021C.html#line26">GM_HANDLEINPUT</a> method, the gadget could send
itself GM_RENDER messages, telling itself to update its imagery according
to where the mouse has moved.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
