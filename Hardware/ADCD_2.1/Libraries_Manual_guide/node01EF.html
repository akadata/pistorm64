<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_10" NODE="10-3" TITLE="10 Intuition Mouse and Keyboard / The Keyboard" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>10 Intuition Mouse and Keyboard / The Keyboard</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node01EE.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node01F0.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
A program can receive keyboard data through an IDCMP port by setting the
<a href="../Libraries_Manual_guide/node01E1.html#line19">IDCMP_RAWKEY</a> flag, the <a href="../Libraries_Manual_guide/node01E1.html">IDCMP_VANILLAKEY</a> flag or both.  IDCMP_VANILLAKEY
events provide for simple ASCII text and standard control keys like space,
return and backspace.  IDCMP_RAWKEY events provide a more complex input
stream, which the program must process to generate ASCII data.
IDCMP_RAWKEY returns all keycodes, both key-up and key-down, including
function keys.

    Keystrokes Are Not Always Paired.
    ---------------------------------
    Keystrokes do not always come in key-down/key-up pairs.  For
    example, repeating keys appear as a sequence of key-down messages.

<a href="../Libraries_Manual_guide/node01E1.html#line19">IDCMP_RAWKEY</a> and <a href="../Libraries_Manual_guide/node01E1.html">IDCMP_VANILLAKEY</a> may be set together.  When both flags
are set in the IDCMP, IDCMP_VANILLAKEY messages will be sent for
keystrokes that directly map to a single ASCII value.  IDCMP_RAWKEY
messages will be sent for key sequences that do not map to simple values,
i.e. if a key sequence does not map to an IDCMP_VANILLAKEY message, it
will be sent as an IDCMP_RAWKEY message.  This allows easy access to
mapped characters through IDCMP_VANILLAKEY with control characters
returned as IDCMP_RAWKEY.  Note that the IDCMP_RAWKEY events will only
return the key down events when used with IDCMP_VANILLAKEY.

When Intuition responds to an input event or sequence of events, the
application will not receive those events.  This happens for system
shortcuts (left Amiga + key) if the system shortcut is defined, and for
menu shortcuts (right Amiga + key) if the menu shortcut is defined for the
active window.  If the shortcut is not defined, then the appropriate key
<a name="line30">event will be sent with the proper Amiga qualifier set.</a>

Key repeat characters have a queue limit which may be set for each window,
much like the mouse queue described above.  The key repeat queue limit may
only be set when the window is opened using the <a href="../Libraries_Manual_guide/node0124.html#line159">WA_RptQueue</a> tag, there is
no function call for modifying the value after the window is open.  The
default queue limit for key repeat characters is three.  This limit causes
any <a href="../Libraries_Manual_guide/node01E1.html#line19">IDCMP_RAWKEY</a>, <a href="../Libraries_Manual_guide/node01E1.html#line19">IDCMP_VANILLAKEY</a> or <a href="../Libraries_Manual_guide/node01E1.html#line98">IDCMP_UPDATE</a> message with the
<a href="../Libraries_Manual_guide/node01F3.html#line51">IEQUALIFIER_REPEAT</a> bit set to be discarded if the queue is full
(IDCMP_UPDATE is discussed in the &#034;<a href="../Libraries_Manual_guide/node020C.html#line42">BOOPSI</a>&#034; chapter).  The queue is said to
be full when the number of waiting repeat key messages is equal to the
queue limit.  Note that the limit is not per character, it is on the total
number of key messages with the repeat bit set.  Once the limit is
reached, no other repeat characters will be posted to the IDCMP until the
application replies to one of the outstanding repeat key messages.  The
repeat queue limit is not as dangerous as the mouse queue limit as only
duplicate keystroke information is discarded, where the mouse queue limit
discards information that cannot be easily reproduced.

 <a href="../Devices_Manual_guide/node0191.html">Rawkey Keymapping Example</a>          <a href="../Libraries_Manual_guide/node01F2.html">Menu Shortcuts</a> 
 <a href="../Libraries_Manual_guide/node01F0.html">Keyboard Control of the Pointer</a>    <a href="../Libraries_Manual_guide/node01F3.html">Amiga Qualifiers</a> 
 <a href="../Libraries_Manual_guide/node01F1.html">Intuition Keyboard Shortcuts</a> 
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
