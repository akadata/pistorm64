<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_7" NODE="7-4" TITLE="7 Intuition Requesters and Alerts / Easy Requesters" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>7 Intuition Requesters and Alerts / Easy Requesters</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node01AB.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node01AD.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
<a href="../Includes_and_Autodocs_2._guide/node0212.html">EasyRequest()</a> provides a simple way to make a requester that allows the
user to select one of a limited number of choices.  (A similar function,
<a href="../Libraries_Manual_guide/node01B4.html#line21">AutoRequest()</a>, is also available but is not as flexible or as powerful.
See the Amiga ROM Kernel Reference Manual: Includes and Autodocs for more
information.)

<a name="line8">     <a href="../Libraries_Manual_guide/node05DA.html">Figure 7-2: A Simple Requester Made with EasyRequest()</a> </a>

The program supplies the text for the body of the requester, text for each
of the possible options, an optional title for the window, and other
arguments.  The body text can consist of one or more lines with lines
separated by the linefeed character.

Each option for an easy requester is displayed as a simple button gadget
positioned beneath the body text you specify.  The layout of the
requester, its text and buttons, is done automatically and is font
sensitive.  The screen font (<a href="../Libraries_Manual_guide/node00DD.html#line76">Screen.Font</a>) is used for all text in the
requester.

Typically, easy requesters have one selection indicating a positive action
and one selection indicating a negative action.  The text used for the
positive action might be &#034;OK&#034;, &#034;Yes,&#034; &#034;True,&#034; &#034;Retry,&#034; or similar
responses.  Likewise, the text used for the negative action might be &#034;No,&#034;
&#034;False,&#034; &#034;Cancel,&#034; and so on.  The negative choice should always be the
<a name="line26">rightmost or final choice and will return a zero if selected.</a>

When <a href="../Includes_and_Autodocs_2._guide/node0212.html">EasyRequest()</a> is called, Intuition will build the requester, display
<a name="line29">it, and wait for user response.</a>

    LONG EasyRequest( struct Window *window,
                      struct EasyStruct *easyStruct,
                      ULONG *idcmpPtr, APTR arg1, ... );

    LONG EasyRequestArgs( struct Window *window,
                          struct EasyStruct *easyStruct,
                          ULONG *idcmpPtr, APTR args );

The window argument is a pointer to the reference window.  The requester
will be displayed on the same screen that the reference window is on and
also takes its title from the reference window, if not otherwise
specified.  This argument can be NULL, which means the requester is to
appear on the Workbench screen, or the default public screen, if defined.

The easyStruct argument is a pointer to an <a href="../Libraries_Manual_guide/node01AD.html">EasyStruct</a> structure which
defines the setup and the text of this easy requester (described below).

The idcmpPtr argument is a pointer to a ULONG containing the IDCMP flags
for the event that you want to terminate this requester.  If such an event
occurs the requester is terminated (with a result of -1) and the ULONG
that idcmpPtr points to will contain the actual class of the event
message.  This feature allows external events to satisfy the request, such
as the user inserting a disk in the disk drive.  This argument can be set
<a name="line54">to NULL for no automatic termination.</a>

The gadget and body text for an easy requester is specified in an
<a href="../Libraries_Manual_guide/node01AD.html">EasyStruct</a> structure (see below).  Body text can be specified using a
<a href="../Includes_and_Autodocs_2._guide/node0162.html">printf()</a>-style format string that also accepts variables as part of the
text.  If variables are specified in the requester text, their value is
taken from the args (or arg1,...) parameters shown in the prototypes
above.  <a href="../Includes_and_Autodocs_2._guide/node0212.html">EasyRequestArgs()</a> takes a pointer to an array of pointers to
arguments, while <a href="../Includes_and_Autodocs_2._guide/node0212.html">EasyRequest()</a> has a varargs interface and takes
individual arguments as part of the function call.  The types of these
arguments are specified in the format strings of the EasyStruct structure.
Arguments for <a href="../Libraries_Manual_guide/node01AD.html#line34">es_GadgetFormat</a> follow arguments for <a href="../Libraries_Manual_guide/node01AD.html#line25">es_TextFormat</a>.

The <a href="../Includes_and_Autodocs_2._guide/node0212.html">EasyRequest()</a> functions return an integer from 0 to n - 1, where n is
the number of choices specified for the requester.  The numbering from
left-to-right is:  1, 2, ..., n - 1, 0.  This is for compatibility with
<a href="../Libraries_Manual_guide/node01B4.html#line21">AutoRequest()</a> which returns FALSE for the rightmost gadget.

The function will return -1 if it receives an IDCMP event that matches one
<a name="line73">of the termination events specified in the idcmpPtr argument.</a>

    Turn Off the Verify Messages.
    -----------------------------
    Use <a href="../Libraries_Manual_guide/node01E3.html#line5">ModifyIDCMP()</a> to turn off all verify messages (such as
    <a href="../Libraries_Manual_guide/node01DE.html#line6">MENUVERIFY</a>) before calling <a href="../Includes_and_Autodocs_2._guide/node0212.html">EasyRequest()</a> or <a href="../Libraries_Manual_guide/node01B4.html#line21">AutoRequest()</a>. Neglecting
    to do so can cause situations where Intuition is waiting for the
    return of a message that the application program cannot receive
    because its input is shut off while the requester is up.  If
    Intuition finds itself in a deadlock state, the verify function will
    timeout and will be automatically replied.

 <a href="../Libraries_Manual_guide/node01AD.html">The Easystruct Structure</a>    <a href="../Libraries_Manual_guide/node01AE.html">Low Level Access to Easy Requesters</a> 
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
