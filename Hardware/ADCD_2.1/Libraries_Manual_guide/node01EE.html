<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_10" NODE="10-2-2-1" TITLE="10 / / Custom Pointer / The Sprite Data Structure" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>10 / / Custom Pointer / The Sprite Data Structure</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node01ED.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node01EF.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
To define the pointer, set up a sprite data structure (sprites are one of
the general purpose Amiga graphics structures). The sprite image data must
be located in Chip memory, which is memory that can be accessed by the
special Amiga hardware chips. Expansion, or Fast memory cannot be
addressed by the custom chips. Ensure that data is in Chip memory by using
the <a href="../Libraries_Manual_guide/node02A7.html">AllocMem()</a> function with the <a href="../Libraries_Manual_guide/node0288.html#line27">MEMF_CHIP</a> flag, and copying the data to
the allocated space. Alternately, use the tools or flags provided by each
compiler for this purpose. See the &#034;<a href="../Libraries_Manual_guide/node02A7.html">Exec Memory Allocation</a>&#034; chapter for
more information.

A sprite data structure is made up of words of data. In a pointer sprite,
the first two words and the last two words are reserved for the system and
<a name="line14">should be set to zero. All other words contain the sprite image data.</a>

The pointer in the example, a standard busy pointer, is sixteen lines high
and sixteen pixels wide.  Currently, all sprites are two bit planes deep,
with one word of data for each line of each plane.  The example sprite
image consists of 36 words (2 planes x 18 lines = 36 words).  Add to this
the four reserved words of control information for a total of 40 words of
<a name="line21">data.  See the <a href="../Libraries_Manual_guide/node05A3.html">example</a> below for the complete data definition.</a>

The sprite data words are combined to determine which color will appear at
each pixel position of each row of the sprite.  The first two words of
image data, 0x0400 and 0x07C0, represent the top line of the sprite.  The
numbers must be viewed as binary numbers and combined in a bit-wise
fashion.  The highest bit from each word are combined to form a two bit
number representing the color register for the leftmost pixel.  The next
two bits represent the next pixel in the row, and so on, until the low
order bits from each word represent the rightmost pixel in the row.

For example:

                  Hex                  Binary
                  ---                  ------

    Second word  0x07C0  0 0 0 0 0  1  1 1 1 1  0 0 0 0 0 0
    First word   0x0400  0 0 0 0 0  1  0 0 0 0  0 0 0 0 0 0

                         \________/\_/\_______/\___________/
                             |      |     |          |
                             |      |     |          |
                             |      |     |          `-- 00 = color 0
                             |      |     |
                             |      |     `-- 10 = color 2
                             |      |
                             |      `-- 11 = color 3
                             |
                             `-- 00 = color 0


    Pointer Color Ordering.
    -----------------------
    The first word in a line gives the least significant bit of the
    color register and the second word gives the most significant bit.

Sprites get their color information from the color registers much like
screens do.  See the Amiga <a href="../Hardware_Manual_guide/node00B7.html">Hardware</a> Reference Manual for more information
on the assignment of color registers to sprites.  Note that the color
number given above is added to a base number to determine the actual
<a name="line61">hardware color register.</a>

The colors of the Intuition pointer may be changed.  The Intuition pointer
is always sprite 0.  To change the colors of sprite 0, call the graphics
library routine <a href="../Libraries_Manual_guide/node0331.html">SetRGB4()</a>.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
