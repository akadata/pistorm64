<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_D" NODE="D-1-6" TITLE="D / Errors / Crashes--After Exit" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>D / Errors / Crashes--After Exit</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node053B.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node053D.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
If this only happens when you start your program <a href="../Libraries_Manual_guide/node023E.html#line76">from Workbench</a>, then you
are probably <a href="../Includes_and_Autodocs_2._guide/node0307.html">UnLock()</a>ing one of the <a href="../Libraries_Manual_guide/node023E.html#line5">WBStartup</a> message <a href="../Libraries_Manual_guide/node023E.html#line49">wa_Locks</a>, or
UnLock()ing the <a href="../Includes_and_Autodocs_2._guide/node02C6.html">Lock()</a> returned from an initial <a href="../Includes_and_Autodocs_2._guide/node028F.html">CurrentDir()</a> call.  If you
CurrentDir(), save the lock returned initially, and CurrentDir() back to
it before you exit. Only UnLock() locks that you created.

If you are crashing from both Workbench and CLI, and you are only crashing
after exit, then you are probably either freeing/closing something twice,
or freeing/closing something your did not actually allocate/open, or you
may be leaving an outstanding device I/O request or other wakeup request.
You must abort and WaitIO() any outstanding I/O requests before you free
things and exit (see the Autodocs for your device, and for Exec <a href="../Includes_and_Autodocs_2._guide/node0323.html">AbortIO()</a>
and <a href="../Includes_and_Autodocs_2._guide/node038B.html">WaitIO()</a>).  Similar problems can be caused by deleting a subtask that
might be in a WaitTOF().  Only delete subtasks when you are sure they are
in a safe state such as <a href="../Libraries_Manual_guide/node02D4.html">Wait</a>(0L).
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
