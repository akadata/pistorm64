<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_12" NODE="12-3-1" TITLE="12 / Boopsi Gadgets / The Boopsi Gadget Methods" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>12 / Boopsi Gadgets / The Boopsi Gadget Methods</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node0218.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node021A.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
Intuition drives a Boopsi gadget by sending it Boopsi messages. Intuition
uses a series of five Boopsi methods:

<a href="../Libraries_Manual_guide/node021A.html">GM_RENDER</a>       This method tells the gadget to render itself.

<a href="../Libraries_Manual_guide/node021B.html">GM_HITTEST</a>      This method asks a gadget whether it has been &#034;hit&#034; by a
                mouse click.

<a href="../Libraries_Manual_guide/node021C.html">GM_GOACTIVE</a>     This method asks a gadget if it wants to be the active
                gadget.

<a href="../Libraries_Manual_guide/node021C.html">GM_HANDLEINPUT</a>  This method passes a gadget an input event.

<a name="line15"><a href="../Libraries_Manual_guide/node021D.html">GM_GOINACTIVE</a>   This method tells a gadget that it is no longer active.</a>

The formats of each of these Boopsi messages differ, but they all have two
things in common.  Like all Boopsi messages, each starts with their
respective method ID.  For each of these methods, the method ID field is
followed by a pointer to a GadgetInfo structure (defined in
&#060;intuition/<a href="../Includes_and_Autodocs_2._guide/node00D2.html#line22">cghooks.h</a>&#062;).  The GadgetInfo structure contains information
about the display on which the gadget needs to render itself:
<a name="line23"></a>

struct GadgetInfo {
    struct Screen          *gi_Screen;
    struct Window          *gi_Window;     /* null for screen gadgets */
    struct Requester       *gi_Requester;  /* null if not GTYP_REQGADGET */

    /* rendering information: don't use these without cloning/locking.
     * Official way is to call ObtainGIRPort()
     */
    struct RastPort        *gi_RastPort;
    struct Layer           *gi_Layer;

    /* copy of dimensions of screen/window/g00/req(/group)
     * that gadget resides in.  Left/Top of this box is
     * offset from window mouse coordinates to gadget coordinates
     *  screen gadgets:                 0,0 (from screen coords)
     *  window gadgets (no g00):        0,0
     *  GTYP_GZZGADGETs (borderlayer):  0,0
     *  GZZ innerlayer gadget:          borderleft, bordertop
     *  Requester gadgets:              reqleft, reqtop
     */
    struct IBox            gi_Domain;

    /* these are the pens for the window or screen */
    struct {
        UBYTE   DetailPen;
        UBYTE   BlockPen;
    }                      gi_Pens;

    /* the Detail and Block pens in gi_DrInfo-&#062;dri_Pens[] are
     * for the screen.  Use the above for window-sensitive colors.
     */
    struct DrawInfo        *gi_DrInfo;

    /* reserved space: this structure is extensible
     * anyway, but using these saves some recompilation
     */
    ULONG                  gi_Reserved[6];
};


<a name="line65">All the fields in this structure are read only.</a>

Although this structure contains a pointer to the gadget's <a href="../Libraries_Manual_guide/node034A.html">RastPort</a>
structure, applications should not use it for rendering.  Instead, use the
intuition.library function <a href="../Includes_and_Autodocs_2._guide/node0232.html">ObtainGIRPort()</a> to obtain a copy of the
GadgetInfo's RastPort.  When the gadget is finished with this RastPort, it
should call <a href="../Includes_and_Autodocs_2._guide/node0243.html">ReleaseGIRPort()</a> to relinquish the RastPort.

 <a href="../Libraries_Manual_guide/node021A.html">GM_RENDER</a>     <a href="../Libraries_Manual_guide/node021C.html">GM_GOACTIVE/GM_HANDLEINPUT</a> 
 <a href="../Libraries_Manual_guide/node021B.html">GM_HITTEST</a>    <a href="../Libraries_Manual_guide/node021D.html">GM_GOINACTIVE</a> 
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
