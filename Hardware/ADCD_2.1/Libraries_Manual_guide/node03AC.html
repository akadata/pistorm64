<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_28" NODE="28-7-1" TITLE="28 / Collisions and GEL Structure Extensions / Detecting Gel Collisions" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>28 / Collisions and GEL Structure Extensions / Detecting Gel Collisions</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node03AB.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node03AD.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
All GELs, including VSprites, can participate in the software collision
detection features of the graphics library.  Simple Sprites must use
hardware collision detection.  See the Amiga <a href="../Hardware_Manual_guide/node015A.html">Hardware</a> Reference Manual for
information about hardware collision detection.

Two kinds of collisions are handled by the system routines:
GEL-to-boundary hits and GEL-to-GEL hits.  You can set up as many as 16
different routines to handle different collision combinations; one routine
to handle the boundary hits, and up to fifteen more to handle different
inter-GEL hits.

You supply the actual collision handling routines, and provide their
addresses to the system so that it can call them as needed (when the hits
are detected).  These addresses are kept in a collision handler table
pointed to by the <a href="../Libraries_Manual_guide/node03AE.html">CollHandler</a> field of the <a href="../Libraries_Manual_guide/node0377.html#line6">GelsInfo</a> list.  Which routine
is called depends on the 16-bit <a href="../Includes_and_Autodocs_2._guide/node00C3.html#line106">MeMask</a> and <a href="../Includes_and_Autodocs_2._guide/node00C3.html#line106">HitMask</a> members of the <a href="../Libraries_Manual_guide/node0381.html">VSprite</a>
<a name="line18">structures involved in the collision.</a>

When you call <a href="../Libraries_Manual_guide/node03D1.html#line16">DoCollision()</a>, the system goes through the <a href="../Libraries_Manual_guide/node0377.html#line6">GelsInfo</a> list
which, is constantly kept sorted by x, y position.  If a GEL intersects
the display boundaries and the GELs <a href="../Includes_and_Autodocs_2._guide/node00C3.html#line106">HitMask</a> indicates it is appropriate,
the boundary collision routine is called.  When DoCollision() finds that
two GELs overlap, it compares the <a href="../Includes_and_Autodocs_2._guide/node00C3.html#line106">MeMask</a> of one with the HitMask of the
other.  If corresponding bits are set in both, it calls the appropriate
inter-GEL collision routine at the table position corresponding to the
bits in the HitMask and MeMask, as outlined below.

 <a href="../Libraries_Manual_guide/node03AD.html">Preparing for Collision Detection</a>         <a href="../Libraries_Manual_guide/node03B0.html">VSprite BorderLine</a> 
 <a href="../Libraries_Manual_guide/node03AE.html">Building a Table of Collision Routines</a>    <a href="../Libraries_Manual_guide/node03B1.html">VSprite HitMask and MeMask</a> 
 <a href="../Libraries_Manual_guide/node03AF.html">VSprite Collision Mask</a>                    <a href="../Libraries_Manual_guide/node03B2.html">Using HitMask and MeMask</a> 
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
