<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_1" NODE="1-4-1-1" TITLE="1 / / Design Decisions / Transparent Release 2 Extensions" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>1 / / Design Decisions / Transparent Release 2 Extensions</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node001F.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node0021.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
To provide <a href="../Libraries_Manual_guide/node0015.html">Release 2</a> enhancements while remaining compatible with the
older 1.3 <a href="../Libraries_Manual_guide/node0014.html">version</a> of the OS, several familiar 1.3 system structures have
been extended to include an optional pointer to additional information.
The new extended versions of such structures are generally defined in the
same include file as the original structure.  These extended structures
are passed to the same 1.3 system functions as the unextended structure
(e.g., <a href="../Libraries_Manual_guide/node0103.html">OpenWindow()</a>, <a href="../Libraries_Manual_guide/node00DF.html">OpenScreen()</a>, <a href="../Includes_and_Autodocs_2._guide/node01FC.html">AddGadget()</a>, <a href="../Libraries_Manual_guide/node03D6.html#line5">OpenDiskFont()</a>).  The
existence of the extended information is signified by setting a new flag
bit in the structure.  (In one case, <a href="../Libraries_Manual_guide/node0154.html">PROPNEWLOOK</a>, only the flag bit itself
is significant).  These extensions are transparent to previous versions of
the operating system.  Only the Release 2 operating system will recognize
<a name="line13">the bit and act on the extended information.</a>

The table below lists the flag bit for each structure to specify that
extended information is present.


Original  Extended   Flag Field  Flag Bit           Defined In
--------  --------   ----------  --------           ----------
NewScreen ExtNewScreen Type      NS_EXTENDED       &#060;intuition/<a href="../Includes_and_Autodocs_2._guide/node00DD.html">screens.h</a>&#062;
NewWindow ExtNewWindow Flags     WFLG_NW_EXTENDED  &#060;intuition/<a href="../Includes_and_Autodocs_2._guide/node00D4.html">intuition.h</a>&#062;
Gadget    Gadget       Flags     GFLG_STRINGEXTEND &#060;intuition/intuition.h&#062;
PropInfo  PropInfo     Flags     PROPNEWLOOK       &#060;intuition/intuition.h
TextAttr  TTextAttr    tta_Style FSF_TAGGED        &#060;graphics/<a href="../Includes_and_Autodocs_2._guide/node00A8.html">text.h</a>&#062;


Through the use of such extensions, applications can request special
<a href="../Libraries_Manual_guide/node0015.html">Release 2</a> features in a 1.3-compatible manner.  When the application is
run on a Release 2 machine, the enhanced capabilities will be active.

The enhancements available through these extensions include:


   Screen: Overscan, 3D Look (SA_Pens), public screens, PAL/NTSC, new modes
   Window: Autoadjust sizing, inner dimensions, menu help
   Gadget: Control of font, pens, and editing of string gadgets
 PropInfo: Get 3D Look proportional gadgets when running under Release 2
TTextAttr: Control width of scaled fonts


Extensible longword arrays called TagItem lists are used to specify the
extended information for many of these structures.  Tag lists provide an
open-ended and backwards-compatible method of growing system structures by
<a name="line45">storing all new specifications in an extendible array of longwords pairs.</a>

Another transparent <a href="../Libraries_Manual_guide/node0015.html">Release 2</a> extension is the diskfont library's ability
to <a href="../Libraries_Manual_guide/node03D4.html">scale</a> bitmap and outline fonts to arbitrary sizes and the availability
of <a href="../Libraries_Manual_guide/node03D4.html#line8">scalable outline fonts</a>.  Make sure that these new scalable fonts are
available to your application by not setting the <a href="../Libraries_Manual_guide/node03D6.html#line70">FPF_DESIGNED</a> flag for
<a href="../Libraries_Manual_guide/node03DD.html">AvailFonts()</a> or <a href="../Libraries_Manual_guide/node03D6.html#line5">OpenDiskFont()</a>.  Allow the user to create new font sizes
by providing a way for her to manually enter the desired font size (the
1.3 OS returns the closest size, Release 2 returns the requested size).

See the <a href="../Libraries_Manual_guide/node0002.html">Intuition</a> and <a href="../Libraries_Manual_guide/node0004.html">graphics</a> library chapters, and the <a href="../Includes_and_Autodocs_2._guide/node0000.html">include file</a>
comments for additional information.  See the &#034;<a href="../Libraries_Manual_guide/node0496.html">Utility Library</a>&#034; chapter
for more information on TagItems and tag lists.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
