<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_5" NODE="5-12-5" TITLE="5 / String Gadget Type / Gadget Structure For String Gadgets" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>5 / String Gadget Type / Gadget Structure For String Gadgets</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node0168.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node016A.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
To an application, a <a href="../Libraries_Manual_guide/node0164.html">string</a> gadget consists of a standard <a href="../Libraries_Manual_guide/node0149.html">Gadget</a> structure
<a name="line3">along with an entry buffer, an undo buffer and a number of extensions.</a>

For a <a href="../Libraries_Manual_guide/node0164.html">string</a> gadget, set the <a href="../Libraries_Manual_guide/node0149.html#line58">GadgetType</a> field in the <a href="../Libraries_Manual_guide/node0149.html">Gadget</a> structure to
<a href="../Libraries_Manual_guide/node0149.html#line66">GTYP_STRGADGET</a>.  Set the <a href="../Libraries_Manual_guide/node0149.html#line125">SpecialInfo</a> field to point to an instance of a
<a href="../Libraries_Manual_guide/node016B.html">StringInfo</a> structure, which must be initialized by the application.

The <a href="../Libraries_Manual_guide/node0159.html">container</a> for a <a href="../Libraries_Manual_guide/node0164.html">string</a> gadget is its select box.  The application
specifies the size of the container.  As the user types into the string
gadget, the characters appear in the gadget's container.

<a href="../Libraries_Manual_guide/node0164.html">String</a> gadgets may hold more characters than are displayable in the
<a href="../Libraries_Manual_guide/node0159.html">container</a>.  To use this feature, the application simply provides a buffer
that is larger than the number of characters that will fit in the
container.  This allows the user to enter and edit strings that are much
longer than the visible portion of the buffer.  Intuition maintains the
<a name="line18">cursor position and scrolls the text in the container as needed.</a>

The application may specify the justification of the string in the
<a href="../Libraries_Manual_guide/node0159.html">container</a>.  The default is <a href="../Libraries_Manual_guide/node014B.html#line87">GACT_STRINGLEFT</a>, or left justification.  If the
flag <a href="../Libraries_Manual_guide/node014B.html#line79">GACT_STRINGCENTER</a> is set, the text is center justified; if
<a name="line23"><a href="../Libraries_Manual_guide/node014B.html#line83">GACT_STRINGRIGHT</a> is set, the text is right justified.</a>

When the gadget is activated, the select box contents are redrawn,
including the background area.  If <a href="../Libraries_Manual_guide/node014A.html#line81">GFLG_STRINGEXTEND</a> is set for the gadget
or the gadget is using a proportional font by default, then the entire
select box will be cleared regardless of the font size or
<a href="../Libraries_Manual_guide/node016B.html#line49">StringInfo.MaxChars</a> value.  For compatibility reasons, if the <a href="../Libraries_Manual_guide/node0164.html">string</a>
gadget is not extended then the following conditions apply (see the
section on &#034;<a href="../Libraries_Manual_guide/node016D.html">Extending String Gadgets</a>&#034; for more information).

  * If the font is monospace (not proportional), the width of the gadget
<a name="line34">    will be rounded down to an even multiple of the font width.</a>

  * If the <a href="../Libraries_Manual_guide/node0164.html">string</a> gadget is left justified (<a href="../Libraries_Manual_guide/node014B.html#line87">GACT_STRINGLEFT</a>), a maximum
    of <a href="../Libraries_Manual_guide/node016B.html#line49">StringInfo.MaxChars</a> times the font width pixels of space will be
    cleared.  Thus, if MaxChars is 3 (two characters plus the trailing
    NULL) and the font width is 8, then a maximum of 3 * 8 = 24 pixels
    will be cleared.  If the font defaults to a proportional font, then
    the width returned by <a href="../Libraries_Manual_guide/node03DA.html#line15">FontExtent()</a> will be used as the character
    width.

No facilities are provided to place imagery within the select box of a
<a href="../Libraries_Manual_guide/node0164.html">string</a> gadget.

 <a href="../Libraries_Manual_guide/node016A.html">String Gadget Imagery and Highlighting</a> 
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
