<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_6" NODE="6-2-16" TITLE="6 / Setting Up Menus / Enabling and Disabling Menus and Menu Items" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>6 / Setting Up Menus / Enabling and Disabling Menus and Menu Items</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node0191.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node0193.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
<a name="line2">Disabling menu items makes them unavailable for selection by the user.</a>

Disabled menus and menu items are displayed in a ghosted fashion; that is,
their imagery is overlaid with a faint pattern of dots, making it less
<a name="line6">distinct.</a>

Enabling or disabling a menu or menu item is always a safe procedure,
whether or not the user is currently using the menus.  Of course, by the
time you have disabled the item, the user may have already selected it.
Thus, the program may receive a <a href="../Libraries_Manual_guide/node01DE.html">IDCMP_MENUPICK</a> message for that item, even
though it considers the item disabled.  The program should be prepared to
handle this case and ignore items that it knows are already disabled.
This implies that the program must track internally which items are
<a name="line15">enabled and which are disabled.</a>

The <a href="../Includes_and_Autodocs_2._guide/node0234.html">OffMenu()</a> and <a href="../Includes_and_Autodocs_2._guide/node0236.html">OnMenu()</a> functions may be used to enable or disable
items while a menu strip is attached to the window.

    void OffMenu( struct Window *window, unsigned long menuNumber );
    void OnMenu( struct Window *window, unsigned long menuNumber );

These routines check if the user is currently using the menus and whether
the menus need to be redrawn to reflect the new states.  If the menus are
currently in use, these routines wait for the user to finish before
<a name="line26">proceeding.</a>

If the item component referenced by menuNumber equals <a href="../Libraries_Manual_guide/node0188.html#line20">NOITEM</a>, the entire
menu will be disabled or enabled.  If the item component equates to an
actual component number, then that item will be disabled or enabled.  Use
the macros defined below for the construction of menu numbers from their
component parts.

The program can enable or disable whole menus, just the menu items, or
just single sub-items.

  * To enable or disable a whole menu, set the item component of the menu
    number to <a href="../Libraries_Manual_guide/node0188.html#line20">NOITEM</a>.  This will enable or disable all items and any
<a name="line39">    sub-items for that menu.</a>

  * To enable or disable a single item and all sub-items attached to that
    item, set the item component of the menu number to the item's ordinal
    number.  If the item has a sub-item list, set the sub-item component
    of the menu number to <a href="../Libraries_Manual_guide/node0188.html#line20">NOSUB</a>.  If the item has no sub-item list, the
    sub-item component of the menu number is ignored.

  * To enable or disable a single sub-item, set the item and sub-item
    components appropriately.

It is also legal to remove the menu strip from each window that it is
attached to (with <a href="../Libraries_Manual_guide/node0181.html#line11">ClearMenuStrip()</a> ) change the <a href="../Libraries_Manual_guide/node019B.html#line30">ITEMENABLED</a> or <a href="../Libraries_Manual_guide/node0199.html#line32">MENUENABLED</a>
flag of one or more <a href="../Libraries_Manual_guide/node0199.html">Menu</a> or <a href="../Libraries_Manual_guide/node019A.html">MenuItem</a> structures and add the menu back
using <a href="../Libraries_Manual_guide/node0184.html#line9">ResetMenuStrip()</a> (in V36 or higher) or <a href="../Libraries_Manual_guide/node0181.html">SetMenuStrip()</a> (in any
version of the OS).
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
