<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_5" NODE="5-12-7" TITLE="5 / String Gadget Type / Extended String Gadgets" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>5 / String Gadget Type / Extended String Gadgets</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node016C.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node016E.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
The <a href="../Libraries_Manual_guide/node016B.html">StringInfo</a> structure may be extended by setting the <a href="../Libraries_Manual_guide/node014A.html#line81">GFLG_STRINGEXTEND</a>
gadget flag and placing a pointer to a <a href="../Includes_and_Autodocs_2._guide/node00E5.html#line18">StringExtend</a> structure in the
StringInfo <a href="../Libraries_Manual_guide/node016B.html#line76">Extension</a> variable.  GFLG_STRINGEXTEND is available beginning
with V37, under V36 the application must use <a href="../Libraries_Manual_guide/node014B.html#line108">GACT_STRINGEXTEND</a> to get the
same functionality.  Note that GACT_STRINGEXTEND is not ignored prior to
V36 and should only be set in V36 or later systems.  GFLG_STRINGEXTEND is
<a name="line8">ignored prior to V37.</a>

    struct StringExtend
        {
        struct TextFont *Font;
        UBYTE       Pens[2];
        UBYTE       ActivePens[2];
        ULONG       InitialModes;
        struct Hook *EditHook;
        UBYTE       *WorkBuffer;
        ULONG       Reserved[4];
        };

Font
    If a font is specified in the StringExtend structure, that font will
    be used by the gadget.  By default, the <a href="../Libraries_Manual_guide/node0164.html">string</a> gadget inherits the
    font of the screen on which it appears.  Note that this is a pointer
    to an open font and not a pointer to a <a href="../Libraries_Manual_guide/node03D6.html#line21">TextAttr</a> structure.

    Proportional fonts are supported in <a href="../Libraries_Manual_guide/node0164.html">string</a> gadgets starting with
    Release 2. If the select box of the gadget is not tall enough to
    render the font, Intuition will fall back to topaz 8.

Pens
    Pens specify the pens used to render the text while the gadget is
    inactive.  Pens[0] is the foreground (text) pen, Pens[1] is the
    background pen.

ActivePens
    ActivePens specify the pens used to render the text while the gadget
    is active. ActivePens[0] is the foreground (text) pen, ActivePens[1]
    is the background pen.

InitialModes
<a name="line42">    These modes may be used in StringExtend structure InitialModes field.</a>

    SGM_REPLACE
        If this flag is set, the <a href="../Libraries_Manual_guide/node0164.html">string</a> gadget will be in replace or
        overwrite mode.  If this flag is cleared, the string gadget will
        be in insert mode.  In replace mode, characters entered
        overwrite the existing characters.  In insert mode, characters
        entered are inserted into the buffer and the following
        characters are advanced by one position until the buffer is
        full.  If the buffer is full in insert mode then characters may
        not be entered until some are deleted.

        When using this flag, always initialize <a href="../Libraries_Manual_guide/node016B.html">StringInfo</a> with an
        in-range value of <a href="../Libraries_Manual_guide/node016B.html#line54">BufferPos</a>.  While most changes to gadgets
        require the application to first remove the gadget before
        modifying the gadget, this flag may be toggled without removing
        the gadget from the gadget list.  The change will take effect on
<a name="line59">        the next character typed by the user.</a>

    SGM_NOFILTER
        Don't filter control chars, enter them into the gadget as typed.
        In this mode the control character command keys for <a href="../Libraries_Manual_guide/node0164.html">string</a>
        gadgets are not active.  If the user disables control character
        filtering from the IControl Preferences editor, there is no way
        for the application to turn it on for an individual string
        gadget.  In filter mode, control characters may be entered into
        the string by holding the left Amiga key while the character is
        entered.

        While most changes to gadgets require the application to first
        remove the gadget before modifying the gadget, this flag may be
        toggled without removing the gadget from the gadget list.  The
<a name="line74">        change will take effect on the next character typed by the user.</a>

    SGM_FIXEDFIELD
        Fixed length buffer used for editing, the user cannot shorten or
        lengthen the string through edit operations.  The field length
        is taken from the length of the character string in the buffer
        when the gadget is added to the system.  Fixed field mode
        modifies the meanings of many of the string editing keys, as
        explained in the tables above.  Always set SGM_REPLACE when
<a name="line83">        using a fixed length buffer.</a>

    SGM_EXITHELP
        Allows the help key to be heard by the application from within
        <a href="../Libraries_Manual_guide/node0164.html">string</a> gadgets.  The gadget will exit immediately when the help
        key is pressed with the <a href="../Libraries_Manual_guide/node01D9.html#line33">IntuiMessage.Code</a> set to 0x5F (new for
<a name="line89">        V37).</a>

EditHook and WorkBuffer
    EditHook and WorkBuffer are used for custom string editing, which is
    <a href="../Libraries_Manual_guide/node016E.html">discussed below</a>.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
