<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_33" NODE="33-4-2" TITLE="33 / Parsing / Putting It Together" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>33 / Parsing / Putting It Together</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node0434.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node0436.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
With just <a href="../Libraries_Manual_guide/node0433.html">StopChunk()</a>, <a href="../Libraries_Manual_guide/node0434.html">PropChunk()</a>, and <a href="../Libraries_Manual_guide/node0432.html">ParseIFF()</a>, you can write a viable
<a href="../Libraries_Manual_guide/node045D.html#line8">ILBM</a> display program.  Since IFFParse knows all about <a href="../Libraries_Manual_guide/node0428.html">IFF</a> structure and
scoping, such a display program would have the added ability to parse
complex <a href="../Libraries_Manual_guide/node042A.html#line7">FORM</a>s, <a href="../Libraries_Manual_guide/node042A.html#line7">LIST</a>s, and <a href="../Libraries_Manual_guide/node042A.html#line7">CAT</a>s and attempt to find imagery buried within.

Such an <a href="../Libraries_Manual_guide/node045D.html#line8">ILBM</a> reader might appear as follows:


iff = AllocIFF();
iff-&#062;iff_Stream = Open (&#034;shuttle dog&#034;, MODE_OLDFILE);
InitIFFasDOS (iff);
OpenIFF (iff, IFFF_READ);

PropChunk (iff, ID_ILBM, ID_BMHD);
PropChunk (iff, ID_ILBM, ID_CMAP);
PropChunk (iff, ID_ILBM, ID_CAMG);
StopChunk (iff, ID_ILBM, ID_BODY);
ParseIFF (iff, IFFPARSE_SCAN);


if (bmhdprop = FindProp (iff, ID_ILBM, ID_BMHD))
    configurescreen (bmhdprop);
else
    bye (&#034;No BMHD, no picture.&#034;);


if (cmapprop = FindProp (iff, ID_ILBM, ID_CMAP))
    setcolors (cmapprop);
else
    usedefaultcolors ();


if (camgprop = FindProp (iff, ID_ILBM, ID_CAMG))
    setdisplaymodes (camgprop);


decodebody (iff);
showpicture ();
CloseIFF (iff);
Close (iff-&#062;iff_Stream);
FreeIFF (iff);


    Open the Library.
    -----------------
    Application programs must always open iffparse.library before using
    the functions outlined above.

    Only Example Programs Skip Error Checking.
    ------------------------------------------
    Error checking is not used in the example above for the sake of
    clarity.  A real application should always check for errors.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
