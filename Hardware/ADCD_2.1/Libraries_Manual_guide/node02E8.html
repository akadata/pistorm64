<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_23" NODE="23-2-11" TITLE="23 / List Functions / Important Note About Shared Lists" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>23 / List Functions / Important Note About Shared Lists</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node02E7.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node02E9.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
It is possible to run into contention problems with other tasks when
manipulating a list that is shared by more than one task.  None of the
standard Exec list functions arbitrates for access to the list.  For
example, if some other task happens to be modifying a list while your task
scans it, an inconsistent view of the list may be formed.  This can result
in a corrupted system.

Generally it is not permissible to read or write a shared list without
first locking out access from other tasks.  All users of a list must use
the same arbitration method.  Several arbitration techniques are used on
the Amiga.  Some lists are protected by a semaphore.  The <a href="../Libraries_Manual_guide/node02FA.html">ObtainSemaphore()</a>
call grants ownership of the list (see the &#034;<a href="../Libraries_Manual_guide/node02F5.html">Exec Semaphores</a>&#034; chapter for
more information).  Some lists require special arbitration. For example,
you must use the Intuition <a href="../Libraries_Manual_guide/node01F6.html#line6">LockIBase</a>(0) call before accessing any
Intuition lists.  Other lists may be accessed only during <a href="../Libraries_Manual_guide/node02C2.html#line9">Forbid()</a> or
<a href="../Libraries_Manual_guide/node02C3.html#line6">Disable()</a> (see the &#034;<a href="../Libraries_Manual_guide/node02C1.html">Exec Tasks</a>&#034; chapter for more information).

The preferred method for arbitrating use of a shared list is through
semaphores because a semaphores only holds off other tasks that are trying
to access the shared list.  Rather than suspending all multitasking.
Failure to lock a shared list before use will result in unreliable
operation.

Note that I/O functions including <a href="../Includes_and_Autodocs_2._guide/node0162.html">printf()</a> generally call <a href="../Libraries_Manual_guide/node02D4.html">Wait()</a> to wait
for I/O completion, and this allows other tasks to run.  Therefore, it is
not safe to print or Wait() while traversing a list unless the list is
fully controlled by your application, or if the list is otherwise
guaranteed not to change during multitasking.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
