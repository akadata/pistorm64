<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_7" NODE="7-2-3" TITLE="7 / True Requesters / Rendering Requesters" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>7 / True Requesters / Rendering Requesters</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node01A3.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node01A5.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
The application may choose to use Intuition's rendering facilities to
display the requester, or it may define its own custom bitmap.  The
<a href="../Libraries_Manual_guide/node01AB.html">Requester</a> structure is initialized differently according to the rendering
<a name="line5">method chosen.</a>

To use Intuition's rendering facilities, you supply a list of one or more
display objects with the <a href="../Libraries_Manual_guide/node01AB.html">Requester</a> structure and submit the Requester  to
Intuition, allowing it to draw the objects.  These objects can include
independent lists of <a href="../Libraries_Manual_guide/node01C1.html">Border</a>s, <a href="../Libraries_Manual_guide/node01C7.html">IntuiText</a>, <a href="../Libraries_Manual_guide/node01BA.html">Image</a>s and <a href="../Libraries_Manual_guide/node0149.html">Gadget</a>s.  Note that
the abilty to provide a list of Image structures is new in V36, and the
<a href="../Libraries_Manual_guide/node01AB.html#line147">USEREQIMAGE</a> flag must be set for them to be rendered.  For more about
Intuition rendering see the chapter on
&#034;<a href="../Libraries_Manual_guide/node01B5.html">Intuition Images, Line Drawing and Text</a>&#034;.

The gadgets in a requester also have their own borders, images and text to
add to the display imagery.  Intuition will allocate the buffers,
construct a bitmap that lasts for the duration of the display, and render
the requester into the window.  This rendering is all done over a solid
color, filled background specified by the <a href="../Libraries_Manual_guide/node01AB.html#line171">BackFill</a> pen in the <a href="../Libraries_Manual_guide/node01AB.html">Requester</a>
structure.  The backfill may be disabled by setting the <a href="../Libraries_Manual_guide/node01AB.html#line151">NOREQBACKFILL</a> flag
<a name="line22">(this also a new feature of V36).</a>

On the other hand, a custom requester may be designed with pre-defined,
bitmap imagery for the entire object.  The image bitmap is submitted to
Intuition through the <a href="../Libraries_Manual_guide/node01AB.html#line181">ImageBMap</a> field of the <a href="../Libraries_Manual_guide/node01AB.html">Requester</a> structure.  The
bitmap should be designed to reduce user confusion; gadgets should line up
with their images, and the designer should attempt to use glyphs (symbols)
familiar to the user.

To provide imagery for the requester, applications should always try to
use data structures attached to the <a href="../Libraries_Manual_guide/node01AB.html">Requester</a> structure as described
above.  Although, rendering directly into the requester layer's <a href="../Libraries_Manual_guide/node034A.html">RastPort</a>
<a name="line34">is tolerated, it must be done with great care.</a>

First, a requester is allowed to have gadgets that automatically close the
requester when they are selected (<a href="../Libraries_Manual_guide/node014B.html#line31">GACT_ENDGADGET</a>).  If such a gadget is
selected, the requester, its layer, and its layer's <a href="../Libraries_Manual_guide/node034A.html">RastPort</a> will be
deleted asynchronously to your application.  If your application is trying
to render directly into the requester at that time, the results are
unpredictable.  Therefore, do not put GACT_ENDGADGET gadgets into a
requester if you plan on rendering directly into its RastPort.

Second, recall that requesters are clipped to the inside of the window
(not including the borders).  If the window can be sized smaller such that
the requester would be entirely clipped, the requester's layer may be
deleted by Intuition.  If your window's minimum size and the requester
size and position are such that the requester can be completely clipped,
then reading <a href="../Libraries_Manual_guide/node01AB.html#line177">Requester.ReqLayer</a> is unsafe without additional protection.
It would be correct to <a href="../Libraries_Manual_guide/node03EC.html#line11">LockLayerInfo()</a> the screen's <a href="../Includes_and_Autodocs_2._guide/node00C4.html#line33">Layer_Info</a>, then check
for the existence of the requester's ReqLayer, then render, then unlock.

For reasons such as these, direct rendering is discouraged.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
