<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_28" NODE="28-7-1-4" TITLE="28 / / Detecting Gel Collisions / VSprite BorderLine" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>28 / / Detecting Gel Collisions / VSprite BorderLine</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node03AF.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node03B1.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
For faster collision detection, the system uses the <a href="../Includes_and_Autodocs_2._guide/node00C3.html#line111">BorderLine</a> member of
the <a href="../Libraries_Manual_guide/node0381.html">VSprite</a> structure. BorderLine specifies the location of the horizontal
logical-OR combination of all of the bits of the object.  It may be
compared to taking the whole object's shadow/collision mask and squishing
it down into a single horizontal line.  You provide the system with a
place to store this line.  The size of the data area you allocate must be
at least as large as the image width.

In other words, if it takes three 16-bit words to hold one line of a GEL,
then you must reserve three words for the <a href="../Includes_and_Autodocs_2._guide/node00C3.html#line111">BorderLine</a>.  In the VSprite
examples, the routine <a href="../Libraries_Manual_guide/node059C.html#line89">makeVSprite()</a> correctly allocates and initializes
the collision mask and borderline.  For example:

    WORD myBorderLineData[3];  /* reserve space for BorderLine */
                               /* for this Bob */

    myVSprite.BorderLine = myBorderLineData;  /* tell the system */
                                              /* where it is */

Here is a sample of an object and its <a href="../Includes_and_Autodocs_2._guide/node00C3.html#line111">BorderLine</a> image:

              011000001100    Object
              001100011000
              001100011000
              000110110000
              000010100000

              011110111100    BorderLine image

Using this squished image, the system can quickly determine if the image
<a name="line32">is touching the left or rightmost boundary of the drawing area.</a>

To establish default <a href="../Includes_and_Autodocs_2._guide/node00C3.html#line111">BorderLine</a> and <a href="../Libraries_Manual_guide/node03AF.html">CollMask</a> data, call the <a href="../Libraries_Manual_guide/node03D1.html#line25">InitMasks()</a>
function.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
