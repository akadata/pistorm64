<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_16" NODE="16-2-3" TITLE="16 / / File Pattern Matching and Multiple Selects" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>16 / / File Pattern Matching and Multiple Selects</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node027C.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node027E.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
A file requester can filter out certain file and directory entries using
the &#034;wildcard&#034; feature of  AmigaDOS.  To activate the wildcard feature for
a file requester, you use the ASL_FuncFlags tag.  Each bit in the
ASL_FuncFlags tag item controls a special option of the requester
depending on its type (file or font).  See &#060;libraries/<a href="../Includes_and_Autodocs_2._guide/node00EA.html#line107">asl.h</a>&#062; for a
complete listing of the options that the ASL_FuncFlags tag controls.
<a name="line8"></a>

 File Requester Flag  Used For
 -------------------  --------
  FILF_PATGAD         Enables the file name pattern matching gadget
  FILF_MULTISELECT    Enables multiple selection of files
  FILF_NEWIDCMP       Use separate IDCMP for requester sharing a custom
                      screen (<a href="../Libraries_Manual_guide/node027E.html">see below</a>)
  FILF_SAVE           Makes the file requester a save requester (<a href="../Libraries_Manual_guide/node027F.html">see below</a>)


If the FILF_PATGAD bit of the ASL_FuncFlags tag is set, the file requester
will appear with a &#034;Pattern&#034; gadget in addition to the usual file name and
directory name gadgets.  The user can type an AmigaDOS wildcard pattern
into this gadget and the pattern will be used to limit the file names that
appear in the requester.  An application can also supply a default pattern
using the ASL_Pattern tag item. A hidden unchangeable pattern can be
created by supplying an ASL_Pattern without a FILF_PATGAD gadget. Such
invisible patterns should not be used if there is any reason that the user
may need to access a file which does not match the pattern.

Another feature of the ASL file requester is multiple selection.  When
multiple selection is enabled, the user can choose more than one file name
in a single directory by selecting names in the requester's scrolling list
gadget with the mouse.  This option, like pattern matching, is set up with
the ASL_FuncFlags tag.

If the FILF_MULTISELECT bit of the ASL_FuncFlags tag is set, the file
requester will allow multiple selection.  When the user selects several
file names through the multiple selection feature, the <a href="../Libraries_Manual_guide/node027B.html#line15">FileRequester</a>'s
rf_NumArgs field contains the number of files selected and the rf_ArgList
field contains a pointer to an array of <a href="../Libraries_Manual_guide/node023E.html#line49">WBArg</a> structures (defined in
&#060;workbench/<a href="../Includes_and_Autodocs_2._guide/node0134.html#line26">startup.h</a>&#062;).  There is a WBArg structure containing a file name
for each file the user selected.

<a name="line43">The following example illustrates a file requester with both a pattern</a>
<a name="line44">matching gadget and multiple selection enabled.</a>

     <a href="../Libraries_Manual_guide/node057D.html">filepat.c</a> 

The previous example demonstrates two alternate functions for creating and
using ASL requesters:

    APTR AllocAslRequestTags( unsigned long type, Tag Tag1, ... );
    BOOL AslRequestTags( APTR request, Tag Tag1, ... );

<a href="../Includes_and_Autodocs_2._guide/node017C.html#line28">AllocAslRequestTags()</a> can be used instead of <a href="../Libraries_Manual_guide/node027B.html">AllocAslRequest()</a> to allocate
and set up the file requester.  This is an amiga.lib function that will
accept <a href="../Libraries_Manual_guide/node0497.html">TagItem</a>s directly in its parameter list, rather than a pointer to
an array of TagItems.

Similarly, <a href="../Includes_and_Autodocs_2._guide/node017E.html#line29">AslRequestTags()</a> will accept <a href="../Libraries_Manual_guide/node0497.html">TagItem</a>s directly instead of
requiring a pointer to an array of TagItems as <a href="../Libraries_Manual_guide/node027B.html#line43">AslRequest()</a> does.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
