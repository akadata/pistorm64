<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_6" NODE="6-2-8" TITLE="6 / Setting Up Menus / Help Key Processing in Menus" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>6 / Setting Up Menus / Help Key Processing in Menus</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node0189.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node018B.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
If the window is opened with the <a href="../Libraries_Manual_guide/node0125.html#line142">WA_MenuHelp</a> tag, then user selection of
the help key while menus are displayed will be detected.  This tag is only
<a name="line4">available under V37 and later.</a>

When the user presses the Help key while using the menu system, the menu
selection is terminated and an <a href="../Libraries_Manual_guide/node01DE.html#line21">IDCMP_MENUHELP</a> event is sent.  The
IDCMP_MENUHELP event is sent in place of the <a href="../Libraries_Manual_guide/node01DE.html">IDCMP_MENUPICK</a> event, not in
addition to it.  IDCMP_MENUHELP never come as multi-select items, and the
<a name="line10">event terminates the menu processing session.</a>

The routine that handles the <a href="../Libraries_Manual_guide/node01DE.html#line21">IDCMP_MENUHELP</a> events must be very
careful--it can receive menu information that is impossible under
<a href="../Libraries_Manual_guide/node01DE.html">IDCMP_MENUPICK</a>.  IDCMP_MENUHELP events may be sent for any menu, item or
sub-item in the menu strip, regardless of its state or position in the
list.  The program may receive events for items that are disabled or
ghosted.  IDCMP_MENUHELP events may send the menu header number alone, or
the menu and item numbers, or all three components regardless of the items
linked to the selected menu or item.  This is done because it is
reasonable for a user to request help in a disabled item or a menu header.
If the user requests menu help on a disabled menu item or sub-item, try to
explain to the user why that item is disabled and what steps are necessary
to enable it.  For instance, pressing help while a menu header is
highlighted will trigger an IDCMP_MENUHELP event with a code that has a
valid number for the menu, then <a href="../Libraries_Manual_guide/node0188.html#line20">NOITEM</a> and <a href="../Libraries_Manual_guide/node0188.html#line20">NOSUB</a> (IDCMP_MENUPICK would
receive <a href="../Libraries_Manual_guide/node0188.html#line20">MENUNULL</a> in this case.)

The application should not take the action indicated by the <a href="../Libraries_Manual_guide/node01DE.html#line21">IDCMP_MENUHELP</a>
event, it should provide the user with a description of the use or status
of that menu.  The application should never step through the <a href="../Libraries_Manual_guide/node019A.html#line93">NextSelect</a>
chain when it receives a IDCMP_MENUHELP event.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
