<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_12" NODE="12-2-3" TITLE="12 / Boopsi Class / White Boxes - The Transparent Base Classes" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>12 / Boopsi Class / White Boxes - The Transparent Base Classes</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node0216.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node0218.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
Boopsi gadgets and images were designed to be backwards compatible with
the old Intuition <a href="../Libraries_Manual_guide/node0149.html">Gadget</a>s and <a href="../Libraries_Manual_guide/node01BA.html">Image</a>s, so as part of their instance data,
both types of objects have the old Intuition structures built into them.
When <a href="../Libraries_Manual_guide/node0203.html#line25">NewObject()</a> creates a new gadget or image object, the pointer it
returns points to the object's embedded Gadget or Image corresponding
structure. Because Intuition can tell the difference between Boopsi images
and gadgets and the original images and gadgets, applications can use
Boopsi images and gadgets interchangeably with the older Intuition
entities.

Although normally considered a &#034;programming sin&#034;, in some cases it is
legal for class dispatchers to directly manipulate some internal fields of
certain Boopsi objects.  For compatibility reasons, a Boopsi image or
gadget object contains an actual <a href="../Libraries_Manual_guide/node01BA.html">Image</a> or <a href="../Libraries_Manual_guide/node0149.html">Gadget</a> structure.  These objects
are instances of the Transparent Base Classes, <a href="../Libraries_Manual_guide/node0209.html">imageclass</a> and <a href="../Libraries_Manual_guide/node020A.html">gadgetclass</a>.

To change an attribute of a Boopsi object, you normally invoke the set
method, <a href="../Libraries_Manual_guide/node0211.html#line28">OM_SET.</a>  The Intuition functions <a href="../Libraries_Manual_guide/node0205.html">SetAttrs()</a> and <a href="../Libraries_Manual_guide/node0205.html#line5">SetGadgetAttrs()</a>
invoke this method.  A Boopsi class is informed of any attribute change at
that time, allowing it to react to this change.  The reaction can include
validating the changed attribute, changing other attributes to match, or
informing other objects of the change.  That is the inherent advantage of
using function calls to change attributes.

When using conventional images and gadgets, you generally modify the
structure's fields directly.  This operation is very fast.  For
conventional images and gadgets, there is no class that needs to know
about the changes, so there is no problem.  However, this is untrue of
Boopsi images and gadgets.  Although directly modifying the Boopsi
object's internal structure would provide a performance increase over
using the Boopsi <a href="../Libraries_Manual_guide/node0211.html#line28">OM_SET</a> mechanism, altering a Boopsi object's internal
structure directly will not give the class the opportunity to react to any
structure changes.  This violates the Boopsi concept, and therefore cannot
be done in general.

In order to provide a balance between the flexibility of function-access
and the performance of direct-access, the transparent base classes
<a href="../Libraries_Manual_guide/node0209.html">imageclass</a> and <a href="../Libraries_Manual_guide/node020A.html">gadgetclass</a> do not depend on being informed of changes to
certain fields in the internal <a href="../Libraries_Manual_guide/node01BA.html">Image</a> and <a href="../Libraries_Manual_guide/node0149.html">Gadget</a> structures.  This means
that it is OK for the dispatchers of direct subclasses of imageclass and
gadgetclass to modify specific fields of Boopsi images or gadgets.
Applications and indirect subclass dispatchers of imageclass or
gadgetclass may not modify those fields, since their parent classes may
depend on hearing about changes to these fields, which the <a href="../Libraries_Manual_guide/node0205.html">SetAttrs()</a> call
(or a similar function) provides.

For dispatchers of direct subclasses of <a href="../Libraries_Manual_guide/node0209.html">imageclass</a>, the following are the
only fields of the <a href="../Libraries_Manual_guide/node01BA.html">Image</a> structure that are alterable:

    <a href="../Libraries_Manual_guide/node01BA.html#line17">LeftEdge</a>      <a href="../Libraries_Manual_guide/node01BA.html#line32">Width</a>     <a href="../Libraries_Manual_guide/node01BA.html#line47">ImageData</a>
    <a href="../Libraries_Manual_guide/node01BA.html#line17">TopEdge</a>       <a href="../Libraries_Manual_guide/node01BA.html#line32">Height</a>    <a href="../Libraries_Manual_guide/node01BA.html#line63">PlanePick</a>
    <a href="../Libraries_Manual_guide/node01BA.html#line69">PlaneOnOff</a>

For dispatchers of direct subclasses of <a href="../Libraries_Manual_guide/node020A.html">gadgetclass</a>, the following are the
only fields of the <a href="../Libraries_Manual_guide/node0149.html">Gadget</a> structure that are alterable:

    <a href="../Libraries_Manual_guide/node0149.html#line33">LeftEdge</a>    <a href="../Libraries_Manual_guide/node0149.html#line48">Flags</a>           <a href="../Libraries_Manual_guide/node0149.html#line111">GadgetText</a>
    <a href="../Libraries_Manual_guide/node0149.html#line33">TopEdge</a>     <a href="../Libraries_Manual_guide/node0149.html#line58">GadgetType</a>      <a href="../Libraries_Manual_guide/node0149.html#line125">SpecialInfo</a>
    <a href="../Libraries_Manual_guide/node0149.html#line33">Width</a>       <a href="../Libraries_Manual_guide/node0149.html#line91">GadgetRender</a>    <a href="../Libraries_Manual_guide/node0149.html#line53">Activation</a>
    <a href="../Libraries_Manual_guide/node0149.html#line33">Height</a>      <a href="../Libraries_Manual_guide/node0149.html#line102">SelectRender</a>

Under no circumstances may an application or an indirect subclass modify
one of these fields, even if the subclass knows the superclasses do not
depend on notification for this field.  This is the only way to preserve
the possibility for future enhancements to that superclass.  Note that
these fields are not alterable while the gadget or image object is in use
(for example, when it is attached to a window).
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
