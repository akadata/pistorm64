<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="Libraries/Lib_32" NODE="32-3-3-3" TITLE="32 / / ROM Based and Autoboot Drivers / Events At BOOT Time" INDEX="Libraries/Lib_Index/MAIN" -->
<head>
<title>32 / / ROM Based and Autoboot Drivers / Events At BOOT Time</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<a href="../Libraries_Manual_guide/node002C.html"><img src="../images/index.gif" alt="[Index]" border=0></a>
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Libraries_Manual_guide/node041D.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Libraries_Manual_guide/node041F.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->
If there is no boot disk in the internal floppy drive, the system strap
module will call a routine to perform <a href="../Libraries_Manual_guide/node041B.html">autoboot</a>. It will examine the
<a href="../Includes_and_Autodocs_2._guide/node00FA.html#line45">eb_MountList</a>; find the highest priority <a href="../Libraries_Manual_guide/node041D.html#line22">BootNode</a> structure at the head of
the List; validate the BootNode; determine which <a href="../Libraries_Manual_guide/node0416.html#line6">ConfigDev</a> is associated
with this BootNode; find its <a href="../Libraries_Manual_guide/node041C.html#line29">DiagArea</a>; and call its da_BootPoint function
in the ROM &#034;image&#034; to bootstrap the appropriate DOS.  Generally, the
BootPoint code of a ROM driver will perform the same function as the boot
code installed on a floppy disk, i.e., it will <a href="../Includes_and_Autodocs_2._guide/node0350.html">FindResident()</a> the
dos.library, and jump to its RT_INIT vector.  The da_BootPoint call, if
successful, should not return.

If a boot disk is in the internal floppy drive, the system strap will
<a href="../Libraries_Manual_guide/node02E2.html">Enqueue()</a> a <a href="../Libraries_Manual_guide/node041D.html#line22">BootNode</a> on the <a href="../Includes_and_Autodocs_2._guide/node00FA.html#line45">eb_MountList</a> for DF0: at the suggested
priority (see the Autodoc for the expansion.library <a href="../Includes_and_Autodocs_2._guide/node03B0.html">AddDosNode()</a>
function).  Strap will then open AmigaDOS, overriding the <a href="../Libraries_Manual_guide/node041B.html">autoboot</a>.
AmigaDOS will boot from the highest priority node on the eb_MountList
which should, in this case, be DF0:.  Thus, games and other bootable
floppy disks will still be able to obtain the system for their own use.

In the event that there is no boot disk in the internal floppy drive and
there are no ROM bootable devices on the autoconfiguration chain, the
system does the normal thing, asking the user to insert a Workbench disk,
and waiting until its request is satisfied before proceeding.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
