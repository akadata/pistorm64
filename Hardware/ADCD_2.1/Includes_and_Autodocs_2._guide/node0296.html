<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="AutoDocs/dos" NODE="DoPkt()" TITLE="dos.library/DoPkt" -->
<head>
<title>dos.library/DoPkt</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_2._guide/node0295.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_2._guide/node0297.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

NAME
    DoPkt -- Send a dos packet and wait for reply (V36)

SYNOPSIS
    result1 = DoPkt(port,action,arg1,arg2,arg3,arg4,arg5)
    D0               D1    D2    D3   D4   D5   D6   D7

    LONG DoPkt(struct <a href="../Includes_and_Autodocs_2._guide/node0099.html#line29">MsgPort</a> *,LONG,LONG,LONG,LONG,LONG,LONG)

FUNCTION
    Sends a packet to a handler and waits for it to return.  Any secondary
    return will be available in D1 AND from <a href="../Includes_and_Autodocs_2._guide/node02C2.html">IoErr()</a>.  DoPkt() will work
    even if the caller is an exec task and not a process; however it will
    be slower, and may fail for some additional reasons, such as being
    unable to allocate a signal.  DoPkt() uses your pr_MsgPort for the
    reply, and will call pr_PktWait.  (See BUGS regarding tasks, though).

    Only allows 5 arguments to be specified.  For more arguments (packets
    support a maximum of 7) create a packet and use <a href="../Includes_and_Autodocs_2._guide/node030F.html">SendPkt()/WaitPkt()</a>.

INPUTS
    port    - pr_MsgPort of the handler process to send to.
    action  - the action requested of the filesystem/handler
    arg1, arg2, arg3, arg4,arg5 - arguments, depend on the action, may not
               be required.

RESULT
    result1 - the value returned in dp_Res1, or FALSE if there was some
              problem in sending the packet or recieving it.
    result2 - Available from <a href="../Includes_and_Autodocs_2._guide/node02C2.html">IoErr()</a> AND in register D1.

BUGS
    Using DoPkt() from tasks doesn't work in V36. Use <a href="../Includes_and_Autodocs_2._guide/node027F.html">AllocDosObject()</a>,
    <a href="../Includes_and_Autodocs_2._guide/node036B.html">PutMsg()</a>, and <a href="../Includes_and_Autodocs_2._guide/node035A.html">WaitPort()/GetMsg()</a> for a workaround, or you can call
    <a href="../Includes_and_Autodocs_2._guide/node028D.html">CreateNewProc()</a> to start a process to do Dos I/O for you.  In V37,
    DoPkt() will allocate, use, and free the <a href="../Includes_and_Autodocs_2._guide/node0099.html#line29">MsgPort</a> required.

NOTES
    Callable from a task (under V37 and above).

SEE ALSO
    <a href="../Includes_and_Autodocs_2._guide/node027F.html">AllocDosObject()</a>, <a href="../Includes_and_Autodocs_2._guide/node02B2.html">FreeDosObject()</a>, <a href="../Includes_and_Autodocs_2._guide/node02F0.html">SendPkt()</a>, <a href="../Includes_and_Autodocs_2._guide/node030F.html">WaitPkt()</a>,
    <a href="../Includes_and_Autodocs_2._guide/node028D.html">CreateNewProc()</a>, <a href="../Includes_and_Autodocs_2._guide/node027A.html">AbortPkt()</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
