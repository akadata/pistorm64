<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="AutoDocs/trackdisk" NODE="CMD_UPDATE" TITLE="trackdisk.device/CMD_UPDATE" -->
<head>
<title>trackdisk.device/CMD_UPDATE</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_2._guide/node0520.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_2._guide/node0522.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

NAME
    CMD_UPDATE/ETD_UPDATE -- write out the track buffer if it is dirty.

FUNCTION
    The trackdisk device does not write data sectors unless it is
    necessary (you request that a different track be used) or until the
    user requests that an update be performed. This improves system speed
    by caching disk operations. These commands ensure that any
    buffered data is flushed out to the disk. If the track buffer has not
    been changed since the track was read in, these commands do nothing.
    ETD_UPDATE command checks for diskchange.

IO REQUEST INPUT
    io_Device       preset by the call to <a href="../Includes_and_Autodocs_2._guide/node0366.html">OpenDevice()</a>
    io_Unit         preset by the call to <a href="../Includes_and_Autodocs_2._guide/node0366.html">OpenDevice()</a>
    io_Command      CMD_UPDATE or ETD_UPDATE
    io_Flags        0 or IOF_QUICK
    iotd_Count      (ETD_UPDATE only) maximum allowable change counter
                    value.

IO REQUEST RESULT
    io_Error - 0 for success, or an error code as defined in
               <a href="../Includes_and_Autodocs_2._guide/node005B.html">&#060;devices/trackdisk.h&#062;</a>

SEE ALSO
    <a href="../Includes_and_Autodocs_2._guide/node0522.html">CMD_WRITE</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
