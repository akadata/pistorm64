<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="AutoDocs/cia" NODE="AbleICR()" TITLE="cia.resource/AbleICR" -->
<head>
<title>cia.resource/AbleICR</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_2._guide/node0535.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_2._guide/node0537.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

NAME
    AbleICR -- Enable/disable ICR interrupts.

SYNOPSIS
    oldMask = AbleICR( Resource, mask )
    D0                 A6        D0

    WORD AbleICR( struct <a href="../Includes_and_Autodocs_2._guide/node009C.html#line34">Library</a> *, WORD );

FUNCTION
    This function provides a means of enabling and disabling 8520
    <a href="../Includes_and_Autodocs_2._guide/node00C7.html#line30">CIA</a> interrupt control registers. In addition it returns the
    previous enable mask.

INPUTS
    mask            A bit mask indicating which interrupts to be
                        modified. If bit 7 is clear the mask
                        indicates interrupts to be disabled. If
                        bit 7 is set, the mask indicates
                        interrupts to be enabled. Bit positions
                        are identical to those in 8520 ICR.

RESULTS
    oldMask         The previous enable mask before the requested
                        changes. To get the current mask without
                        making changes, call the function with a
                        null parameter.

EXAMPLES
    Get the current mask:
        mask = AbleICR(0)
    Enable both timer interrupts:
        AbleICR(0x83)
    Disable serial port interrupt:
        AbleICR(0x08)

EXCEPTIONS
    Enabling the mask for a pending interrupt will cause an
    immediate processor interrupt (that is if everything else is
    enabled). You may want to clear the pending interrupts with
    <a href="../Includes_and_Autodocs_2._guide/node0539.html">SetICR()</a> prior to enabling them.

NOTE
    The <a href="../Includes_and_Autodocs_2._guide/node00C7.html#line30">CIA</a> resources are special in that there is more than one
    of them in the system. Because of this, the C language stubs
    in amiga.lib for the <a href="../Includes_and_Autodocs_2._guide/node00C7.html#line30">CIA</a> resources require an extra parameter
    to specify which <a href="../Includes_and_Autodocs_2._guide/node00C7.html#line30">CIA</a> resource to use. The synopsys for the
    amiga.lib stubs is as follows:

    oldMask = AbleICR( Resource, mask )
    D0                 A6        D0

    WORD AbleICR( struct <a href="../Includes_and_Autodocs_2._guide/node009C.html#line34">Library</a> *, WORD );

SEE ALSO
    <a href="../Includes_and_Autodocs_2._guide/node0539.html">cia.resource/SetICR()</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
