<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="AutoDocs/intuition" NODE="MakeClass()" TITLE="intuition.library/MakeClass" -->
<head>
<title>intuition.library/MakeClass</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_2._guide/node0226.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_2._guide/node0228.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

NAME
    MakeClass -- Create and initialize a boopsi class. (V36)

SYNOPSIS
    iclass = MakeClass( ClassID, SuperClassID, SuperClassPtr,
    D0                  A0       A1            A2
            InstanceSize, Flags )
            D0            D1

    struct IClass *MakeClass( UBYTE *, UBYTE *, struct IClass *,
            UWORD, ULONG );

FUNCTION
    For class implementors only.

    This function creates a new public or private boopsi class.
    The superclass should be defined to be another boopsi class:
    all classes are descendants of the class &#034;rootclass&#034;.

    Superclasses can be public or private.  You provide a name/ID
    for your class if it is to be a public class (but you must
    have registered your class name and your attribute ID's with
    Commodore before you do this!).  For a public class, you would
    also call <a href="../Includes_and_Autodocs_2._guide/node01FB.html">AddClass()</a> to make it available after you have
    finished your initialization.

    Returns pointer to an IClass data structure for your
    class.  You then initialize the <a href="../Includes_and_Autodocs_2._guide/node012D.html#line23">Hook</a> cl_Dispatcher for
    your class methods code.  You can also set up special data
    shared by all objects in your class, and point cl_UserData at it.
    The last step for public classes is to call <a href="../Includes_and_Autodocs_2._guide/node01FB.html">AddClass()</a>.

    You dispose of a class created by this function by calling
    <a href="../Includes_and_Autodocs_2._guide/node0216.html">FreeClass()</a>.

INPUTS
    ClassID = NULL for private classes, the name/ID string for public
            classes
    SuperClassID = name/ID of your new class's superclass.  NULL if
            superclass is a private class
    SuperClassPtr = pointer to private superclass.  Only used if
            SuperClassID is NULL.  You are required never to provide
            a NULL superclass.
    InstanceSize = the size of the instance data that your class's
            objects will require, beyond that data defined for
            your superclass's objects.
    Flags = for future enhancement, including possible additional
            parameters.  Provide zero for now.

RESULT
    Pointer to the resulting class, or NULL if not possible:
    - no memory for class data structure
    - public superclass not found
    - public class of same name/ID as this one already exists

NOTES

EXAMPLE
    Creating a private subclass of a public class:

/* per-object instance data defined by my class     */
struct MyInstanceData {
    ULONG   mid_SomeData;
};

/* some useful table I'll share use for all objects */
UWORD myTable[] = {
    5, 4, 3, 2, 1, 0
};

struct IClass       *
initMyClass()
{
    ULONG __saveds  myDispatcher();
    ULONG   hookEntry();    /* asm-to-C interface glue       */
    struct IClass   *cl;
    struct IClass   *MakeClass();

    if ( cl =  MakeClass( NULL,
                SUPERCLASSID, NULL,  /* superclass is public */
                sizeof (struct MyInstanceData),
                0 ))
    {
        /* initialize the cl_Dispatcher <a href="../Includes_and_Autodocs_2._guide/node012D.html#line23">Hook</a>       */
        cl-&#062;cl_Dispatcher.h_Entry = hookEntry;
        cl-&#062;cl_Dispatcher.h_SubEntry = myDispatcher;
        cl-&#062;cl_Dispatcher.h_Data = (VOID *) 0xFACE; /* unused */

        cl-cl_UserData = (ULONG) myTable;
    }
    return ( cl );
}

BUGS
    The typedef 'Class' isn't consistently used.  Class pointers
    used blindly should be APTR, or struct IClass for class implementors.

SEE ALSO
    <a href="../Includes_and_Autodocs_2._guide/node0216.html">FreeClass()</a>, <a href="../Includes_and_Autodocs_2._guide/node01FB.html">AddClass()</a>, <a href="../Includes_and_Autodocs_2._guide/node0245.html">RemoveClass()</a>, <a href="../Includes_and_Autodocs_2._guide/node022F.html">NewObject()</a>,
    Document &#034;Basic Object-Oriented Programming System for Intuition&#034;
    and the &#034;boopsi Class Reference&#034; document.
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
