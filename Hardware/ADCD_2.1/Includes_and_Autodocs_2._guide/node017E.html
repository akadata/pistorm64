<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="AutoDocs/asl" NODE="AslRequest()" TITLE="asl.library/AslRequest" -->
<head>
<title>asl.library/AslRequest</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_2._guide/node017D.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_2._guide/node017F.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

NAME
    AslRequest -- get input from user for an ASL requester (V36)

SYNOPSIS
    BOOL result = AslRequest( request, ptags );
    D0                        A0       A1

    BOOL    result;
    APTR    request;
    struct <a href="../Includes_and_Autodocs_2._guide/node012E.html#line31">TagItem</a>       *ptags;

FUNCTION
    Prompts the user for input, based on the specific type of
    requester and modifying tagitems.  The actions and results
    are specific to the type but in general the action is to open
    a requesting window prompting the user for a specific input.
    If the user cancels or the system aborts the request, NULL
    is returned, otherwise the request data structure readable
    data reflects the user input.
    Note that tag values stay in effect for each use of the
    requester until they are cleared or modified by passing the
    same tag with a new value.

INPUTS
    request = requester structure allocated with <a href="../Includes_and_Autodocs_2._guide/node017C.html">AllocAslRequest()</a>.
    ptags = pointer to an array of TagItems which may be used to
<a name="line29">        modify the requester.</a>

    AslRequestTags( type, tags... ) which accepts your tags
    on the stack, is available in amiga.lib.

    Example Usage: AslRequestTags( ASL_FileRequest,
                                   ASL_Hail, &#034;My Title Bar&#034;,
                                   TAG_DONE );

TAGS

    ( REMEMBER - ALL DATA STRUCTURES ARE READ-ONLY EXCEPT BY USING
      TAGITEMS !!! )

    ASL_Hail (STRPTR) - Hailing text to prompt user, typically
        displayed in window title bar.
    ASL_Window (struct <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line797">Window</a> *) - Parent window for the request
        function, which is used to select the screen on which the
        requesting window will be displayed and also is used for
        a shared IDCMP port.

    ASL_LeftEdge (WORD) - Preferred display position for left edge where
        request window should open.
    ASL_TopEdge (WORD) - Preferred top edge of request window.
    ASL_Width (WORD)   - Preferred width of request window.
    ASL_Height (WORD)  - Preferred height of request window.

    ASL_HookFunc (APTR) - Pointer to callback function, specific to
        each AslRequest type.

    ASL_File (STRPTR) - <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line65">FileRequester</a> initial filename string.
    ASL_Dir (STRPTR) - <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line65">FileRequester</a> initial directory path string.

    ASL_FontName (STRPTR) - <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line147">FontRequester</a> initial fontname string.
    ASL_FontHeight (UWORD) - <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line147">FontRequester</a> initial height (ta_YSize).
    ASL_FontStyles (UBYTE) - <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line147">FontRequester</a> initial styles (ta_Style).
    ASL_FontFlags (UBYTE) - <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line147">FontRequester</a> initial flags (ta_Flags).
    ASL_FrontPen (BYTE) - <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line147">FontRequester</a> front pen color (fo_FrontPen).
    ASL_BackPen (BYTE) - <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line147">FontRequester</a> back pen color (fo_BackPen).
    ASL_MinHeight (UWORD) - Minimum height for <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line147">FontRequester</a> display
        of font sizes.  (Application must check return value).
    ASL_MaxHeight (UWORD) - Maximum height for <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line147">FontRequester</a> display
        of font sizes. (Application must check ta_YSize returned).

    ASL_OKText (STRPTR) - Replacement for default &#034;OK&#034; gadget text.
        ( Limited to approx. six characters ).
    ASL_CancelText (STRPTR) - Replacement for default &#034;CANCEL&#034;
        gadget text. ( Limited to approx. six characters ).

    ASL_FuncFlags (ULONG) - Function flags, depends on requester
        type.  Example: FILF_SAVE for <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line65">FileRequester</a>.
    ASL_ExtFlags1 (ULONG) - Extended flags (to pass FILF1_ bitdefs)
               Example: FIL1F_NOFILES for file requester

RESULT
    If NULL, typically the user cancelled the requester or a system
    failure prevented the requester from being opened.  If non-zero,
    values will be set depending on the particular type of request,
    in the requesting data structure.  See &#034;libraries/asl.h&#034; for
    information on the READ-ONLY fields in each specific type of
    requester.

NOTES

    Asl provides a way for applications to interact with requester
    operation via a callback (hook) function.  For the ASL file and
    font requesters, there are two ASL_FuncFlags to specify that you
    want a callback:

         for FileRequester: FILF_DOWILDFUNC and FILF_DOMSGFUNC
         for FontRequester: FONF_DOWILDFUNC and FONF_DOMSGFUNC

    The DOWILDFUNC allows you to perform the pattern matching.
    The DOMSGFUNC allows you to handle IDCMP messages received
    for windows that are sharing a UserPort with the requester.

    If you set one or both of these flags via the ASL_FuncFlags
    tagitem, you must provide a pointer to your hook function
    using the ASL_HookFunc tagitem.  Your function will be called
    as follows:

     ULONG rf_Function(ULONG Mask, CPTR Object, CPTR AslRequester)

    The Mask value is a copy of the specific ASL_FuncFlag value
    the callback is for.  Object is a pointer to a data object
    specific to the reason for the callback (defined by Mask).
    AslRequester is a pointer to the requester structure.

    Note that you can only define one HookFunc per requester.
    Your hook function must examine the Mask passed to it to
    determine what the callback is for and what the Object is.

    The following table will explain what is passed to, and
    expected to be returned by a hook functions for various masks:

    <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line65">FileRequester</a> DOWILDFUNC
    Purpose: to accept or reject individual files for display list
    Inputs: Mask            = FILF_DOWILDFUNC
            Object          = struct <a href="../Includes_and_Autodocs_2._guide/node0070.html#line53">AnchorPath</a> *
            AslRequester    = struct <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line65">FileRequester</a> *
    Result: You return zero to accept file for display in list


    <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line147">FontRequester</a> DOWILDFUNC
    Purpose: to accept or reject individual fonts for display list
    Inputs: Mask            = FONF_DOWILDFUNC
            Object          = struct <a href="../Includes_and_Autodocs_2._guide/node00A8.html#line66">TextAttr</a> *
            AslRequester    = struct <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line147">FontRequester</a> *
    Result: You return non-zero to accept font for display in list


    <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line65">FileRequester</a> (or FontRequester) DOMSGFUNC
    Purpose: to handle IDCMP msgs for other windows sharing port
    Inputs: Mask            = FILF_DOMSGFUNC (FONF_DOMSGFUNC)
            Object          = struct <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line679">IntuiMessage</a> *
            AslRequester    = struct <a href="../Includes_and_Autodocs_2._guide/node00EA.html#line65">FileRequester</a> (FontRequester) *
    Result: You must return the Object pointer (asl will Reply the Object)

SEE ALSO
    <a href="../Includes_and_Autodocs_2._guide/node017C.html">AllocAslRequest()</a>, <a href="../Includes_and_Autodocs_2._guide/node017F.html">FreeAslRequest()</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
