<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="AutoDocs/intuition" NODE="AutoRequest()" TITLE="intuition.library/AutoRequest" -->
<head>
<title>intuition.library/AutoRequest</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_2._guide/node01FE.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_2._guide/node0200.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

NAME
    AutoRequest -- Automatically build and get response from a requester.

SYNOPSIS
    Response = AutoRequest( <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line797">Window</a>, BodyText, PosText, NegText,
    D0                      A0      A1        A2       A3
                    PosFlags, NegFlags, Width, Height )
                    D0        D1        D2     D3

    BOOL AutoRequest( struct <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line797">Window</a> *, struct <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line572">IntuiText</a> *,
            struct <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line572">IntuiText</a> *, struct <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line572">IntuiText</a> *,
            ULONG, ULONG, WORD, WORD );

FUNCTION
    This procedure automatically builds a requester for you and then
    waits for a response from the user, or for the system to satisfy your
    request.  If the response is positive, this procedure returns TRUE.
    If the response is negative, this procedure returns FALSE.

    An IDCMPFlag specification is created by bitwise &#034;or'ing&#034; your
    PosFlags, NegFlags, and the IDCMP classes IDCMP_GADGETUP and
    IDCMP_RAWKEY.  You may specify zero flags for either the PosFlags
    or NegFlags arguments.

    The <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line572">IntuiText</a> arguments, and the width and height values, are
    passed directly to the <a href="../Includes_and_Autodocs_2._guide/node0202.html">BuildSysRequest()</a> procedure along with
    your window pointer and the IDCMP flags.  Please refer to
    <a href="../Includes_and_Autodocs_2._guide/node0202.html">BuildSysRequest()</a> for a description of the <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line572">IntuiText</a> that you are
    expected to supply when calling this routine.  It's an important
    but long-winded description that need not be duplicated here.

    If the <a href="../Includes_and_Autodocs_2._guide/node0202.html">BuildSysRequest()</a> procedure does not return a pointer
    to a window, it will return TRUE or FALSE (not valid structure
    pointers) instead, and these BOOL values will be returned to
    you immediately.

    On the other hand, if a valid window pointer is returned, that
    window will have had its IDCMP ports and flags initialized according
    to your specifications.  AutoRequest() then waits for IDCMP messages
    on the UserPort, which satisfies one of four requirements:
    -   either the message is of a class that matches
        one of your PosFlags arguments (if you've supplied
        any), in which case this routine returns TRUE.  Or
    -   the message class matches one of your NegFlags
        arguments (if you've supplied any), in which case
        this routine returns FALSE.  Or
    -   the IDCMP message is of class IDCMP_GADGETUP, which means that
        one of the two gadgets, as provided with the PosText and NegText
        arguments, was selected by the user.  If the TRUE gadget
        was selected, TRUE is returned.  If the FALSE gadget was
        selected, FALSE is returned.
    -   Lastly, two IDCMP_RAWKEY messages may satisfy the request: those
        for the V and B keys with the left Amiga key depressed.
        These keys, satisfy the gadgets on the left or right side of
        the requester--TRUE or FALSE--, respectively.

        NOTE: For V36, these two keys left-Amiga-B and V are processed
        through the default keymap.

    When the dust has settled, this routine calls <a href="../Includes_and_Autodocs_2._guide/node0219.html">FreeSysRequest()</a> if
    necessary to clean up the requester and any other allocated memory.

    NOTE: For V36, this function now switches the processor stack
    to ensure sufficient stack space for the function to succeed.

INPUTS
    <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line797">Window</a> = pointer to a <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line797">Window</a> structure.  See <a href="../Includes_and_Autodocs_2._guide/node0202.html">BuildSysRequest()</a>
        for a full discussion.
    BodyText = pointer to an <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line572">IntuiText</a> structure
    PosText = pointer to an <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line572">IntuiText</a> structure, may by NULL.
    NegText = pointer to an <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line572">IntuiText</a> structure, MUST be valid!
    PosFlags = flags for the IDCMP
    NegFlags = flags for the IDCMP
    Width, Height = the sizes to be used for the rendering of the requester

    NOTE for V36: The width and height parameters are ignored, as
    are several other specifications in the <a href="../Includes_and_Autodocs_2._guide/node00D4.html#line572">IntuiText</a>, to make
    AutoRequest() requesters retroactively conform to the new look
    designed for EasyRequest().

RESULT
    The return value is either TRUE or FALSE.  See the text above for a
    complete description of the chain of events that might lead to either
    of these values being returned.

NOTES
    When DOS brings up AutoRequests() on your process (eg.
    &#034;Please insert volume XXX in any drive&#034;, they normally come
    up on the Workbench screen.  If you set your <a href="../Includes_and_Autodocs_2._guide/node0078.html#line38">Process</a> pr_WindowPtr
    field to point to one of your windows, then DOS will bring its
    requesters up on the same screen as that window.  A pr_WindowPtr
    of -1 prevents requesters from coming up at all.
    (Some FileSystem requesters cannot be redirected or supressed).

BUGS
    The requester no longer devolves into a call to <a href="../Includes_and_Autodocs_2._guide/node020B.html">DisplayAlert()</a>
    if there is not enough memory for the requester.

SEE ALSO
    EasyRequest(), <a href="../Includes_and_Autodocs_2._guide/node0202.html">BuildSysRequest()</a>, <a href="../Includes_and_Autodocs_2._guide/node025B.html">SysReqHandler()</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
