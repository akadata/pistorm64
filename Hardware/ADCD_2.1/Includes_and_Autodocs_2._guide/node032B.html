<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="AutoDocs/exec" NODE="AddSemaphore()" TITLE="exec.library/AddSemaphore" -->
<head>
<title>exec.library/AddSemaphore</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_2._guide/node032A.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_2._guide/node032C.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

NAME
    AddSemaphore -- initialize then add a signal semaphore to the system

SYNOPSIS
    AddSemaphore(signalSemaphore)
                 A1

    void AddSemaphore(struct <a href="../Includes_and_Autodocs_2._guide/node0082.html#line40">SignalSemaphore</a> *);

FUNCTION
    This function attaches a signal semaphore structure to the system's
    public signal semaphore list.  The name and priority fields of the
    semaphore structure must be initialized prior to calling this
    function.  If you do not want to let others rendezvous with this
    semaphore, use <a href="../Includes_and_Autodocs_2._guide/node035D.html">InitSemaphore()</a> instead.

    If a semaphore has been added to the naming list, you must be
    careful to remove the semaphore from the list (via RemSemaphore)
    before deallocating its memory.

    Semaphores that are linked together in an allocation list (which
    <a href="../Includes_and_Autodocs_2._guide/node0363.html">ObtainSemaphoreList()</a> would use) may not be added to the system
    naming list, because the facilities use the link field of the
    signal semaphore in incompatible ways

INPUTS
   signalSemaphore -- an signal semaphore structure

BUGS
    Does not work in Exec &#060;V36.  Instead use this code:

        #include <a href="../Includes_and_Autodocs_2._guide/node009E.html">&#060;exec/execbase.h&#062;</a>
        #include <a href="../Includes_and_Autodocs_2._guide/node0091.html">&#060;exec/nodes.h&#062;</a>
        extern struct <a href="../Includes_and_Autodocs_2._guide/node009E.html#line35">ExecBase</a> *SysBase;
            ...
        void LocalAddSemaphore(s)
        struct <a href="../Includes_and_Autodocs_2._guide/node0082.html#line40">SignalSemaphore</a> *s;
        {
            s-&#062;ss_Link.ln_Type=NT_SIGNALSEM;
            InitSemaphore(s);
            Forbid();
            Enqueue(&#038;SysBase-&#062;SemaphoreList,s);
            Permit();
        }

SEE ALSO
    <a href="../Includes_and_Autodocs_2._guide/node0376.html">RemSemaphore</a>, <a href="../Includes_and_Autodocs_2._guide/node0351.html">FindSemaphore</a>, <a href="../Includes_and_Autodocs_2._guide/node035D.html">InitSemaphore</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
