<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- AG2HTML: CONVERTER=AG2HTML/1.1 FORMAT=AMIGAGUIDE/34.11 FILE="AutoDocs/dos" NODE="RunCommand()" TITLE="dos.library/RunCommand" -->
<head>
<title>dos.library/RunCommand</title>
</head>
<body>
<img src="../images/toc_d.gif" alt="[Contents]">
<img src="../images/index_d.gif" alt="[Index]">
<img src="../images/help_d.gif" alt="[Help]">
<img src="../images/retrace_d.gif" alt="[Retrace]">
<a href="../Includes_and_Autodocs_2._guide/node02E9.html"><img src="../images/prev.gif" alt="[Browse &#060;]" border=0></a>
<a href="../Includes_and_Autodocs_2._guide/node02EB.html"><img src="../images/next.gif" alt="[Browse &#062;]" border=0></a>
<hr>
<pre>
<!-- AG2HTML: BODY=START -->

NAME
    RunCommand -- Runs a program using the current process (V36)

SYNOPSIS
    rc = RunCommand(seglist, stacksize, argptr, argsize)
    D0                D1         D2       D3      D4

    LONG RunCommand(BPTR, ULONG, STRPTR, ULONG)

FUNCTION
    Runs a command on your process/cli.  Seglist may be any language,
    including BCPL programs.  Stacksize is in bytes.  argptr is a null-
    terminated string, argsize is its length.  Returns the returncode the
    program exited with in d0. Returns -1 if the stack couldn't be
    allocated.

    NOTE: the argument string MUST be terminated with a newline to work
    properly with <a href="../Includes_and_Autodocs_2._guide/node02E1.html">ReadArgs()</a> and other argument parsers.

    RunCommand also takes care of setting up the current input filehandle
    in such a way that <a href="../Includes_and_Autodocs_2._guide/node02E1.html">ReadArgs()</a> can be used in the program, and restores
    the state of the buffering before returning.  It also sets the value
    returned by <a href="../Includes_and_Autodocs_2._guide/node02B4.html">GetArgStr()</a>, and restores it before returning.  NOTE:
    the setting of the argument string in the filehandle was added in V37.

    It's usually appropriate to set the command name (via
    <a href="../Includes_and_Autodocs_2._guide/node02FB.html">SetProgramName()</a>) before calling RunCommand().  RunCommand() sets
    the value returned by <a href="../Includes_and_Autodocs_2._guide/node02B4.html">GetArgStr()</a> while the command is running.

INPUTS
    seglist   - Seglist of command to run.
    stacksize - Number of bytes to allocate for stack space
    argptr    - Pointer to argument command string.
    argsize   - Number of bytes in argument command.

RESULT
    rc        - Return code from executed command. -1 indicates failure

SEE ALSO
    <a href="../Includes_and_Autodocs_2._guide/node028D.html">CreateNewProc()</a>, <a href="../Includes_and_Autodocs_2._guide/node0304.html">SystemTagList()</a>, <a href="../Includes_and_Autodocs_2._guide/node029E.html">Execute()</a>, <a href="../Includes_and_Autodocs_2._guide/node02B4.html">GetArgStr()</a>,
    <a href="../Includes_and_Autodocs_2._guide/node02FB.html">SetProgramName()</a>, <a href="../Includes_and_Autodocs_2._guide/node02E1.html">ReadArgs()</a>
<!-- AG2HTML: BODY=END -->
</pre>

<!-- [amigadev.elowar.com] Automatically generated content... -->
<hr />
<pre>[Back to <a href="http://amigadev.elowar.com/">Amiga Developer Docs</a>]</pre>
<!-- [amigadev.elowar.com] End of automatically generated content. -->

</body>
</html>
